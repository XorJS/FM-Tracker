;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
; Website: https://www.jsr-productions.com/blogpost3319ddc.html
; GitHub: https://github.com/XorJS/FM-Tracker
;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-

;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
;- Programmer Par : Jean-Sebastien Royer [2k0]                               -
;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-

Title Fm_Tracker
P486
Model Large

MyStack Segment Para Stack 'STACK'
        Db 100h Dup (1)
MyStack Ends

Data Segment Para Public Use16 'Data'
 Key_Table  Db 128 Dup (1)      ; Table du Keyboard
 Key_Table2 Db 128 Dup (1)      ; Table du Keyboard
 Screen  Db 08000d Dup (0)      ; Buffer d'Affichage
 
 Fm_Main Db     '°',1,'±',1,'²',1,' ',17,' ',17,' ',17,' ',17,' ',17,' '
        Db      17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' '
        Db      17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' '
        Db      17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' '
        Db      17,'F',30,'m',30,'-',30,'T',30,'r',30,'a',30,'c',30,'k'
        Db      30,'e',30,'r',30,'s',30,' ',30,' ',30,' ',30,' ',30,' '
        Db      30,' ',30,' ',30,' ',30,' ',30,' ',30,' ',30,' ',30,' '
        Db      30,' ',30,' ',30,' ',30,' ',30,' ',30,' ',30,' ',30,' '
        Db      30,' ',30,' ',30,' ',30,' ',30,' ',30,' ',30,' ',30,' '
        Db      30,' ',30,' ',30,' ',30,' ',30,'²',1,'±',1,'°',1,' ',49
        Db      '#',63,'#',63,'N',63,'o',63,'t',63,'I',63,'n',63,'V',63
        Db      'l',63,' ',63,'N',63,'o',63,'t',63,'I',63,'n',63,'V',63
        Db      'l',63,' ',63,'N',63,'o',63,'t',63,'I',63,'n',63,'V',63
        Db      'l',63,' ',63,'N',63,'o',63,'t',63,'I',63,'n',63,'V',63
        Db      'l',63,' ',63,'N',63,'o',63,'t',63,'I',63,'n',63,'V',63
        Db      'l',63,' ',63,'N',63,'o',63,'t',63,'I',63,'n',63,'V',63
        Db      'l',63,' ',63,'N',63,'o',63,'t',63,'I',63,'n',63,'V',63
        Db      'l',63,' ',63,'N',63,'o',63,'t',63,'I',63,'n',63,'V',63
        Db      'l',63,' ',63,'N',63,'o',63,'t',63,'I',63,'n',63,'V',63
        Db      'l',63,' ',63,' ',95,'P',95,'a',95,'t',95,' ',95,'É',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'-',93,' ',93,'L',95,'e',95,'f',95,'t',95,' ',95
        Db      ' ',95,'-',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'»',93,'É',47,'Í',47,'Í',47,'Í',47,'»',47,'º',93
        Db      '0',47,'0',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,30,47,'º',93
        Db      '0',47,'1',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'2',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'3',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'4',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'5',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'6',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'7',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'8',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'9',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'A',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'B',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'C',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'D',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'E',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,'°',47,'º',93
        Db      '0',47,'F',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'º',47,'0',47,'0',47,' ',47,31,47,'Ì',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'-',93,' ',93,'R',95,'i',95,'g',95,'h',95,'t',95
        Db      ' ',95,'-',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'¹',93,'È',47,'Í',47,'Í',47,'Í',47,'¼',47,'º',93
        Db      '0',47,'0',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56
        Db      '.',56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24
        Db      '.',24,'º',93,'S',15,'p',15,'e',7,'e',7,'d',8,'º',93,'0'
        Db      47,'1',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'º',93,' ',15,' ',15,' ',15,'0',15,'0',15,'º',93,'0'
        Db      47,'2',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'º',93,' ',15,' ',15,' ',15,' ',15,' ',15,'º',93,'0'
        Db      47,'3',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'º',93,' ',15,'B',15,'p',7,'m',8,' ',15,'º',93,'0'
        Db      47,'4',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'º',93,' ',15,' ',15,' ',15,'0',15,'0',15,'º',93,'0'
        Db      47,'5',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'º',93,' ',15,' ',15,' ',15,' ',15,' ',15,'º',93,'0'
        Db      47,'6',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.'
        Db      56,'°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.'
        Db      24,'º',93,'O',15,'c',15,'t',7,'a',7,'v',8,'º',93,'0',47
        Db      '7',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      '°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56
        Db      '°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      '°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56
        Db      '°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      '°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56
        Db      '°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      '°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56
        Db      '°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      'º',93,' ',15,' ',15,' ',15,'0',15,'0',15,'º',93,'0',47
        Db      '8',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      '°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56
        Db      '°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      '°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56
        Db      '°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      '°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56
        Db      '°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      '°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56
        Db      '°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      'º',93,' ',15,' ',15,' ',15,' ',15,' ',15,'º',93,'0',47
        Db      '9',47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      '°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56
        Db      '°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      '°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56
        Db      '°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      '°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56
        Db      '°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      '°',95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56
        Db      '°',95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24
        Db      'º',93,'I',15,'n',15,'s',7,'t',7,'r',8,'º',93,'0',47,'A'
        Db      47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°'
        Db      95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°'
        Db      95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°'
        Db      95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°'
        Db      95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°'
        Db      95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°'
        Db      95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°'
        Db      95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°'
        Db      95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'º'
        Db      93,' ',15,' ',15,' ',15,'0',15,'0',15,'º',93,'0',47,'B'
        Db      47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°'
        Db      95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°'
        Db      95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°'
        Db      95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°'
        Db      95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°'
        Db      95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°'
        Db      95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°'
        Db      95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°'
        Db      95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'º'
        Db      93,' ',15,' ',15,' ',15,' ',15,' ',15,'º',93,'0',47,'C'
        Db      47,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°'
        Db      95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°'
        Db      95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°'
        Db      95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°'
        Db      95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°'
        Db      95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°'
        Db      95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°'
        Db      95,'.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°'
        Db      95,'.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'º'
        Db      93,'P',15,'a',15,'t',7,'t',7,'n',8,'º',93,'0',47,'D',47
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°',95
        Db      '.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°',95
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°',95
        Db      '.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°',95
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°',95
        Db      '.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°',95
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°',95
        Db      '.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°',95
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'º',93
        Db      ' ',15,' ',15,' ',15,'0',15,'0',15,'º',93,'0',47,'E',47
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°',95
        Db      '.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°',95
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°',95
        Db      '.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°',95
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°',95
        Db      '.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°',95
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°',95
        Db      '.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°',95
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'º',93
        Db      ' ',15,' ',15,' ',15,' ',15,' ',15,'º',93,'0',47,'F',47
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°',95
        Db      '.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°',95
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°',95
        Db      '.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°',95
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°',95
        Db      '.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°',95
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'°',95
        Db      '.',63,'.',63,'.',63,'.',55,'.',55,'.',56,'.',56,'°',95
        Db      '.',31,'.',31,'.',31,'.',23,'.',23,'.',24,'.',24,'º',93
        Db      ' ',15,'P',15,'o',7,'s',8,' ',15,'È',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93
        Db      'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'Í',93,'¼',93
        Db      '0',15,'0',15,'/',15,'3',15,'F',15,'Ú',79,'#',76,'#',76
        Db      'Â',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'I',79,'n',79
        Db      's',79,'t',79,'r',79,'u',79,'m',79,'e',79,'n',79,'t',79
        Db      's',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79
        Db      'Ä',79,'¿',79,'-',59,'=',59,'[',59,' ',59,'C',53,'t',53
        Db      'r',53,'l',53,' ',53,'T',63,'r',63,'a',63,'c',63,'k',63
        Db      ' ',63,'E',63,'d',63,'i',63,'t',63,'o',63,'r',63,' ',63
        Db      '³',59,' ',59,'A',53,'l',53,'t',53,' ',53,'P',63,'a',63
        Db      't',63,'t',63,'e',63,'r',63,'n',63,' ',63,'E',63,'d',63
        Db      'i',63,'t',63,'o',63,'r',63,' ',63,']',59,'=',59,'-',59
        Db      ' ',15,' ',15,' ',15,' ',15,' ',15,'³',79,'0',79,'0',79
        Db      '³',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,30,79,'Ú',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25
        Db      'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25
        Db      'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25
        Db      'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Â',25,'Ä',25,'Ä',25
        Db      'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25
        Db      'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25
        Db      'Ä',25,'Ä',25,'Ä',25,'Ä',25,'¿',25,'³',79,'0',79,'0',79
        Db      '³',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,'°',79,'³',25,'[',31,'F',31,'1',31,'-',31,'F',31
        Db      '2',31,']',31,' ',31,'I',31,'n',31,'s',31,'t',31,'r',31
        Db      'u',31,'m',31,'e',31,'n',31,'t',31,'s',31,' ',31,'C',31
        Db      'h',31,'a',31,'n',31,'g',31,'e',31,'³',25,'°',1,'°',1
        Db      '°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1
        Db      '°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1
        Db      '°',1,'°',1,'³',25,'³',79,'0',79,'0',79,'³',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,'°',79
        Db      '³',25,'[',31,'F',31,'3',31,'-',31,'F',31,'4',31,']',31
        Db      ' ',31,'O',31,'c',31,'t',31,'a',31,'v',31,'e',31,' ',31
        Db      ' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31
        Db      ' ',31,' ',31,' ',31,'³',25,'°',1,'°',1,'°',1,'°',1,'°'
        Db      1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°'
        Db      1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'³'
        Db      25,'³',79,'0',79,'0',79,'³',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,'°',79,'³',25,'[',31,'F'
        Db      31,'5',31,']',31,' ',31,' ',31,' ',31,' ',31,'P',31,'l'
        Db      31,'a',31,'y',31,' ',31,'S',31,'o',31,'n',31,'g',31,' '
        Db      31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' '
        Db      31,'³',25,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°'
        Db      1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°'
        Db      1,'°',1,'°',1,'°',1,'°',1,'°',1,'³',25,'³',79,'0',79,'0'
        Db      79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,'°',79,'³',25,'[',31,'F',31,'6',31,']',31,' '
        Db      31,' ',31,' ',31,' ',31,'P',31,'l',31,'a',31,'y',31,' '
        Db      31,'P',31,'a',31,'t',31,'t',31,'e',31,'r',31,'n',31,' '
        Db      31,' ',31,' ',31,' ',31,' ',31,' ',31,'³',25,'°',1,'°'
        Db      1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°'
        Db      1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°'
        Db      1,'°',1,'°',1,'³',25,'³',79,'0',79,'0',79,'³',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,'°',79
        Db      '³',25,'[',31,'F',31,'7',31,']',31,' ',31,' ',31,' ',31
        Db      ' ',31,'I',31,'n',31,'s',31,'t',31,'r',31,'u',31,'m',31
        Db      'e',31,'n',31,'t',31,'s',31,' ',31,'E',31,'d',31,'i',31
        Db      't',31,'o',31,'r',31,'³',25,'°',1,'°',1,'°',1,'°',1,'°'
        Db      1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°'
        Db      1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'³'
        Db      25,'³',79,'0',79,'0',79,'³',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,'°',79,'³',25,'[',31,'F'
        Db      31,'8',31,']',31,' ',31,' ',31,' ',31,' ',31,'S',31,'t'
        Db      31,'o',31,'p',31,' ',31,' ',31,' ',31,' ',31,' ',31,' '
        Db      31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' '
        Db      31,'³',25,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°'
        Db      1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°',1,'°'
        Db      1,'°',1,'°',1,'°',1,'°',1,'°',1,'³',25,'³',79,'0',79,'0'
        Db      79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,'°',79,'Ã',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä'
        Db      25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä'
        Db      25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä'
        Db      25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Å',25,'Ä',25,'Ä'
        Db      25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä'
        Db      25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä'
        Db      25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'´',25,'³',79,'0',79,'0'
        Db      79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,'°',79,'³',25,'[',31,'F',31,'9',31,'-',31,'F'
        Db      31,'1',31,'0',31,']',31,' ',31,'S',31,'p',31,'e',31,'e'
        Db      31,'d',31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' '
        Db      31,' ',31,' ',31,' ',31,' ',31,' ',31,'³',25,' ',25,' '
        Db      25,' ',25,'-',25,'=',25,' ',25,'P',25,'r',25,'o',25,'g'
        Db      25,'r',25,'a',25,'m',25,'m',25,'e',25,'r',25,' ',25,'='
        Db      25,'-',25,' ',25,' ',25,' ',25,'³',25,'³',79,'0',79,'0'
        Db      79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' '
        Db      79,' ',79,31,79,'³',25,'[',31,'F',31,'1',31,'1',31,'-'
        Db      31,'F',31,'1',31,'2',31,']',31,' ',31,'B',31,'p',31,'m'
        Db      31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' '
        Db      31,' ',31,' ',31,' ',31,' ',31,' ',31,'³',25,' ',25,'J'
        Db      25,'e',25,'a',25,'n',25,'-',25,'S',25,'e',25,'b',25,'a'
        Db      25,'s',25,'t',25,'i',25,'e',25,'n',25,' ',25,'R',25,'o'
        Db      25,'y',25,'e',25,'r',25,' ',25,'³',25,'À',79,'Ä',79,'Ä'
        Db      79,'Á',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä'
        Db      79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä'
        Db      79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä'
        Db      79,'Ä',79,'Ù',79,'À',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä'
        Db      25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä'
        Db      25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä'
        Db      25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Á',25,'Ä',25,'Ä'
        Db      25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä'
        Db      25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ä'
        Db      25,'Ä',25,'Ä',25,'Ä',25,'Ä',25,'Ù',25,'°',1,'±',1,'²'
        Db      1,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' '
        Db      17,'[',18,'S',31,'h',31,'i',31,'f',31,'t',31,'-',31,'F'
        Db      31,'1',31,' ',31,'N',31,'e',31,'w',31,'³',18,'S',31,'h'
        Db      31,'i',31,'f',31,'t',31,'-',31,'F',31,'2',31,' ',31,'L'
        Db      31,'o',31,'a',31,'d',31,'³',18,'S',31,'h',31,'i',31,'f'
        Db      31,'t',31,'-',31,'F',31,'3',31,' ',31,'S',31,'a',31,'v'
        Db      31,'e',31,'³',18,'S',31,'h',31,'i',31,'f',31,'t',31,'-'
        Db      31,'F',31,'4',31,' ',31,'Q',31,'u',31,'i',31,'t',31,']'
        Db      18,' ',18,' ',18,' ',18,' ',18,' ',18,' ',18,' ',18,' '
        Db      18,' ',18,' ',18,'²',1,'±',1,'°',1

 Ins_M  Db      '°',1,'±',1,'²',1,'Û',1,' ',17,' ',17,' ',17,' ',17,' '
        Db      17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' '
        Db      17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' '
        Db      17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,'I',31,'n'
        Db      31,'s',31,'t',31,'r',31,'u',31,'m',31,'e',31,'n',31,'t'
        Db      31,'s',31,' ',31,'E',31,'d',31,'i',31,'t',31,'o',31,'r'
        Db      31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' '
        Db      31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' '
        Db      31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' ',31,' '
        Db      31,' ',31,' ',31,' ',31,' ',31,'²',1,'±',1,'°',1,' ',15
        Db      ' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15
        Db      ' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15
        Db      ' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15
        Db      ' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15
        Db      ' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15
        Db      ' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15
        Db      ' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15
        Db      ' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15
        Db      ' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15
        Db      ' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,' ',15,'Ú',79
        Db      '#',76,'#',76,'Â',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79
        Db      'I',79,'n',79,'s',79,'t',79,'r',79,'u',79,'m',79,'e',79
        Db      'n',79,'t',79,'s',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79
        Db      'Ä',79,'Ä',79,'Ä',79,'¿',79,'É',47,'Í',47,'Í',47,'Í',47
        Db      'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47
        Db      'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47
        Db      'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47
        Db      'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47
        Db      'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47
        Db      'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'»',47,'³',79
        Db      '0',79,'0',79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,30,79,'º',47,' ',47,' ',47,' ',47
        Db      'I',47,'n',47,'s',47,'t',47,'r',47,'u',47,'m',47,'e',47
        Db      'n',47,'t',47,' ',47,'N',47,'a',47,'m',47,'e',47,' ',47
        Db      ':',47,' ',47,' ',43,' ',43,' ',43,' ',43,' ',43,' ',43
        Db      ' ',43,' ',43,' ',43,' ',43,' ',43,' ',43,' ',43,' ',43
        Db      ' ',43,' ',43,' ',43,' ',43,' ',43,' ',43,' ',43,' ',43
        Db      ' ',43,' ',43,' ',43,' ',43,' ',43,' ',43,'º',47,'³',79
        Db      '0',79,'0',79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,'°',79,'º',47,'Ä',47,'Ä',47,'Ä',47
        Db      'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47
        Db      'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47
        Db      'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47
        Db      'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47
        Db      'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47
        Db      'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'º',47,'³',79
        Db      '0',79,'0',79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,'°',79,'º',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,'º',47,'³',79
        Db      '0',79,'0',79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,'°',79,'º',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      '[',47,'F',47,'1',47,'-',47,'F',47,'2',47,']',47,' ',47
        Db      'I',47,'n',47,'s',47,'t',47,'r',47,'u',47,'m',47,'e',47
        Db      'n',47,'t',47,'s',47,' ',47,'C',47,'h',47,'a',47,'n',47
        Db      'g',47,'e',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,'º',47,'³',79
        Db      '0',79,'0',79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,'°',79,'º',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,'º',47,'³',79
        Db      '0',79,'0',79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,'°',79,'º',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      '[',47,'F',47,'3',47,']',47,' ',47,'E',47,'d',47,'i',47
        Db      't',47,' ',47,'I',47,'n',47,'s',47,'t',47,'r',47,'u',47
        Db      'm',47,'e',47,'n',47,'t',47,' ',47,'N',47,'a',47,'m',47
        Db      'e',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,'º',47,'³',79
        Db      '0',79,'0',79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,'°',79,'º',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,'º',47,'³',79
        Db      '0',79,'0',79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,'°',79,'º',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,'[',47,'F',47,'4',47,']',47
        Db      ' ',47,'T',47,'r',47,'a',47,'c',47,'k',47,' ',47,'E',47
        Db      'd',47,'i',47,'t',47,'o',47,'r',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,'º',47,'³',79
        Db      '0',79,'0',79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,'°',79,'º',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,'º',47,'³',79
        Db      '0',79,'0',79,'³',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,31,79,'º',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,'º',47,'À',79
        Db      'Ä',79,'Ä',79,'Á',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79
        Db      'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79
        Db      'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79
        Db      'Ä',79,'Ä',79,'Ä',79,'Ù',79,'È',47,'Í',47,'Í',47,'Í',47
        Db      'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47
        Db      'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47
        Db      'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47
        Db      'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47
        Db      'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47
        Db      'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'Í',47,'¼',47,'É',63
        Db      'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63
        Db      'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Ä',63,' ',63,'C',63
        Db      'a',63,'r',63,'r',63,'i',63,'e',63,'r',63,' ',63,'Ä',63
        Db      'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63
        Db      'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'»',63,'É',95
        Db      'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95
        Db      'Í',95,'Í',95,'Í',95,'Í',95,'Ä',95,' ',95,'M',95,'o',95
        Db      'd',95,'u',95,'l',95,'a',95,'t',95,'o',95,'r',95,' ',95
        Db      'Ä',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95
        Db      'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'»',95,'º',63
        Db      '[',95,'C',95,'t',95,'r',95,'l',95,']',95,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      '[',95,'C',95,'t',95,'r',95,'l',95,']',95,'º',63,'º',95
        Db      '[',63,'A',63,'l',63,'t',63,']',63,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,'[',63,'A',63,'l',63,'t',63,']',63,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      ' ',63,'³',63,'F',63,'1',63,'³',63,' ',63,'A',63,'t',63
        Db      't',63,'a',63,'c',63,'k',63,' ',63,' ',63,' ',63,':',63
        Db      ' ',63,'[',63,'0',62,']',63,' ',63,'(',59,'0',59,'.',59
        Db      '.',59,'F',59,')',59,' ',59,' ',59,' ',59,' ',59,' ',59
        Db      ' ',59,' ',59,' ',59,' ',59,' ',59,' ',59,'º',63,'º',95
        Db      ' ',95,'³',95,'F',95,'1',95,'³',95,' ',95,'A',95,'t',95
        Db      't',95,'a',95,'c',95,'k',95,' ',95,' ',95,' ',95,':',95
        Db      ' ',95,'[',95,'0',94,']',95,' ',95,'(',93,'0',93,'.',93
        Db      '.',93,'F',93,')',93,' ',93,' ',93,' ',93,' ',93,' ',93
        Db      ' ',93,' ',93,' ',93,' ',93,' ',93,' ',93,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      ' ',63,'³',63,'F',63,'2',63,'³',63,' ',63,'D',63,'e',63
        Db      'c',63,'a',63,'y',63,' ',63,' ',63,' ',63,' ',63,':',63
        Db      ' ',63,'[',63,'0',62,']',63,' ',63,'(',59,'0',59,'.',59
        Db      '.',59,'F',59,')',59,' ',59,' ',59,' ',59,' ',59,' ',59
        Db      ' ',59,' ',59,' ',59,' ',59,' ',59,' ',59,'º',63,'º',95
        Db      ' ',95,'³',95,'F',95,'2',95,'³',95,' ',95,'D',95,'e',95
        Db      'c',95,'a',95,'y',95,' ',95,' ',95,' ',95,' ',95,':',95
        Db      ' ',95,'[',95,'0',94,']',95,' ',95,'(',93,'0',93,'.',93
        Db      '.',93,'F',93,')',93,' ',93,' ',93,' ',93,' ',93,' ',93
        Db      ' ',93,' ',93,' ',93,' ',93,' ',93,' ',93,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      ' ',63,'³',63,'F',63,'3',63,'³',63,' ',63,'S',63,'u',63
        Db      's',63,'t',63,'a',63,'i',63,'n',63,' ',63,' ',63,':',63
        Db      ' ',63,'[',63,'0',62,']',63,' ',63,'(',59,'0',59,'.',59
        Db      '.',59,'F',59,')',59,' ',59,' ',59,' ',59,' ',59,' ',59
        Db      ' ',59,' ',59,' ',59,' ',59,' ',59,' ',59,'º',63,'º',95
        Db      ' ',95,'³',95,'F',95,'3',95,'³',95,' ',95,'S',95,'u',95
        Db      's',95,'t',95,'a',95,'i',95,'n',95,' ',95,' ',95,':',95
        Db      ' ',95,'[',95,'0',94,']',95,' ',95,'(',93,'0',93,'.',93
        Db      '.',93,'F',93,')',93,' ',93,' ',93,' ',93,' ',93,' ',93
        Db      ' ',93,' ',93,' ',93,' ',93,' ',93,' ',93,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      ' ',63,'³',63,'F',63,'4',63,'³',63,' ',63,'R',63,'e',63
        Db      'l',63,'e',63,'a',63,'s',63,'e',63,' ',63,' ',63,':',63
        Db      ' ',63,'[',63,'0',62,']',63,' ',63,'(',59,'0',59,'.',59
        Db      '.',59,'F',59,')',59,' ',59,' ',59,' ',59,' ',59,' ',59
        Db      ' ',59,' ',59,' ',59,' ',59,' ',59,' ',59,'º',63,'º',95
        Db      ' ',95,'³',95,'F',95,'4',95,'³',95,' ',95,'R',95,'e',95
        Db      'l',95,'e',95,'a',95,'s',95,'e',95,' ',95,' ',95,':',95
        Db      ' ',95,'[',95,'0',94,']',95,' ',95,'(',93,'0',93,'.',93
        Db      '.',93,'F',93,')',93,' ',93,' ',93,' ',93,' ',93,' ',93
        Db      ' ',93,' ',93,' ',93,' ',93,' ',93,' ',93,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'º',63,'º',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      ' ',63,'³',63,'F',63,'5',63,'³',63,' ',63,'W',63,'a',63
        Db      'v',63,'e',63,'F',63,'o',63,'r',63,'m',63,' ',63,':',63
        Db      ' ',63,'[',63,'0',62,']',63,' ',63,'(',59,'0',59,'.',59
        Db      '.',59,'3',59,')',59,' ',59,' ',59,' ',59,' ',59,' ',59
        Db      ' ',59,' ',59,' ',59,' ',59,' ',59,' ',59,'º',63,'º',95
        Db      ' ',95,'³',95,'F',95,'5',95,'³',95,' ',95,'W',95,'a',95
        Db      'v',95,'e',95,'F',95,'o',95,'r',95,'m',95,' ',95,':',95
        Db      ' ',95,'[',95,'0',94,']',95,' ',95,'(',93,'0',93,'.',93
        Db      '.',93,'3',93,')',93,' ',93,' ',93,' ',93,' ',93,' ',93
        Db      ' ',93,' ',93,' ',93,' ',93,' ',93,' ',93,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      ' ',63,'³',63,'F',63,'6',63,'³',63,' ',63,'V',63,'o',63
        Db      'l',63,'u',63,'m',63,'e',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,':',63,' ',63,'[',63,'0',62,'0',62,']',63,' ',63
        Db      '(',59,'0',59,'0',59,'.',59,'.',59,'3',59,'F',59,')',59
        Db      ' ',59,' ',59,' ',59,' ',59,' ',59,' ',59,'º',63,'º',95
        Db      ' ',95,'³',95,'F',95,'6',95,'³',95,' ',95,'V',95,'o',95
        Db      'l',95,'u',95,'m',95,'e',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,':',95,' ',95,'[',95,'0',94,'0',94,']',95,' ',95
        Db      '(',93,'0',93,'0',93,'.',93,'.',93,'3',93,'F',93,')',93
        Db      ' ',93,' ',93,' ',93,' ',93,' ',93,' ',93,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      ' ',63,'³',63,'F',63,'7',63,'³',63,' ',63,'L',63,'e',63
        Db      'v',63,'e',63,'l',63,'S',63,'c',63,'a',63,'l',63,'e',63
        Db      ' ',63,':',63,' ',63,'[',63,'0',62,']',63,' ',63,'(',59
        Db      '0',59,'.',59,'3',59,')',59,' ',59,' ',59,' ',59,' ',59
        Db      ' ',59,' ',59,' ',59,' ',59,' ',59,' ',59,'º',63,'º',95
        Db      ' ',95,'³',95,'F',95,'7',95,'³',95,' ',95,'L',95,'e',95
        Db      'v',95,'e',95,'l',95,'S',95,'c',95,'a',95,'l',95,'e',95
        Db      ' ',95,':',95,' ',95,'[',95,'0',94,']',95,' ',95,'(',93
        Db      '0',93,'.',93,'3',93,')',93,' ',93,' ',93,' ',93,' ',93
        Db      ' ',93,' ',93,' ',93,' ',93,' ',93,' ',93,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      ' ',63,'³',63,'F',63,'8',63,'³',63,' ',63,'F',63,'e',63
        Db      'e',63,'d',63,'B',63,'a',63,'c',63,'k',63,' ',63,' ',63
        Db      ' ',63,':',63,' ',63,'[',63,'0',62,']',63,' ',63,'(',59
        Db      '(',59,'0',59,'.',59,'.',59,'7',59,')',59,' ',59,'0',59
        Db      ':',59,'O',59,'f',59,'f',59,')',59,' ',59,'º',63,'º',95
        Db      ' ',95,'³',95,'F',95,'8',95,'³',95,' ',95,'F',95,'e',95
        Db      'e',95,'d',95,'B',95,'a',95,'c',95,'k',95,' ',95,' ',95
        Db      ' ',95,':',95,' ',95,'[',95,'0',94,']',95,' ',95,'(',93
        Db      '(',93,'0',93,'.',93,'.',93,'7',93,')',93,' ',93,'0',93
        Db      ':',93,'O',93,'f',93,'f',93,')',93,' ',93,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      ' ',63,'³',63,'F',63,'9',63,'³',63,' ',63,'A',63,'d',63
        Db      'd',63,'i',63,'t',63,'i',63,'v',63,'e',63,' ',63,'S',63
        Db      'y',63,'n',63,'t',63,'h',63,'e',63,'s',63,'i',63,'s',63
        Db      ' ',63,':',63,' ',63,'O',53,'n',53,' ',53,' ',53,' ',53
        Db      ' ',53,' ',53,' ',53,' ',53,' ',53,' ',53,'º',63,'º',95
        Db      ' ',95,'³',95,'F',95,'9',95,'³',95,' ',95,'A',95,'d',95
        Db      'd',95,'i',95,'t',95,'i',95,'v',95,'e',95,' ',95,'S',95
        Db      'y',95,'n',95,'t',95,'h',95,'e',95,'s',95,'i',95,'s',95
        Db      ' ',95,':',95,' ',95,'O',83,'n',83,' ',83,' ',83,' ',83
        Db      ' ',83,' ',83,' ',83,' ',83,' ',83,' ',83,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'º',63,'º',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,'³',63,'F',63,'1',63,'0',63
        Db      '³',63,' ',63,'M',63,'u',63,'l',63,' ',63,'F',63,'a',63
        Db      'c',63,'t',63,'o',63,'r',63,' ',63,':',63,' ',63,'[',63
        Db      '0',62,']',63,' ',63,'(',59,'0',59,'.',59,'.',59,'7',59
        Db      ')',59,' ',59,' ',59,' ',59,' ',59,' ',59,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,'³',95,'F',95,'1',95,'0',95
        Db      '³',95,' ',95,'M',95,'u',95,'l',95,' ',95,'F',95,'a',95
        Db      'c',95,'t',95,'o',95,'r',95,' ',95,':',95,' ',95,'[',95
        Db      '0',94,']',95,' ',95,'(',93,'0',93,'.',93,'.',93,'7',93
        Db      ')',93,' ',93,' ',93,' ',93,' ',93,' ',93,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'[',63,'C',63,'t',63,'r',63
        Db      'l',63,'+',63,'S',63,'h',63,'i',63,'f',63,'t',63,']',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63
        Db      'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'Ä',63,'º',63,'º',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'[',95,'A',95,'l',95
        Db      't',95,'+',95,'S',95,'h',95,'i',95,'f',95,'t',95,']',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95
        Db      'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'Ä',95,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,'³',63,'F',63,'1',63,'³',63,' ',63,'S',63,'u',63
        Db      's',63,'t',63,'a',63,'i',63,'n',63,' ',63,' ',63,' ',63
        Db      ' ',63,':',63,' ',63,'O',53,'n',53,' ',53,' ',53,' ',53
        Db      ' ',53,' ',53,' ',53,' ',53,' ',53,' ',53,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,'³',95,'F',95,'1',95,'³',95,' ',95,'S',95,'u',95
        Db      's',95,'t',95,'a',95,'i',95,'n',95,' ',95,' ',95,' ',95
        Db      ' ',95,':',95,' ',95,'O',83,'n',83,' ',83,' ',83,' ',83
        Db      ' ',83,' ',83,' ',83,' ',83,' ',83,' ',83,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,'³',63,'F',63,'2',63,'³',63,' ',63,'E',63,'n',63
        Db      'v',63,'e',63,'l',63,'o',63,'p',63,'p',63,'e',63,' ',63
        Db      ' ',63,':',63,' ',63,'O',53,'n',53,' ',53,' ',53,' ',53
        Db      ' ',53,' ',53,' ',53,' ',53,' ',53,' ',53,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,'³',95,'F',95,'2',95,'³',95,' ',95,'E',95,'n',95
        Db      'v',95,'e',95,'l',95,'o',95,'p',95,'p',95,'e',95,' ',95
        Db      ' ',95,':',95,' ',95,'O',83,'n',83,' ',83,' ',83,' ',83
        Db      ' ',83,' ',83,' ',83,' ',83,' ',83,' ',83,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,'³',63,'F',63,'3',63,'³',63,' ',63,'V',63,'i',63
        Db      'b',63,'r',63,'a',63,'t',63,'o',63,' ',63,' ',63,' ',63
        Db      ' ',63,':',63,' ',63,'O',53,'n',53,' ',53,' ',53,' ',53
        Db      ' ',53,' ',53,' ',53,' ',53,' ',53,' ',53,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,'³',95,'F',95,'3',95,'³',95,' ',95,'V',95,'i',95
        Db      'b',95,'r',95,'a',95,'t',95,'o',95,' ',95,' ',95,' ',95
        Db      ' ',95,':',95,' ',95,'O',83,'n',83,' ',83,' ',83,' ',83
        Db      ' ',83,' ',83,' ',83,' ',83,' ',83,' ',83,'º',95,'º',63
        Db      ' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63,' ',63
        Db      ' ',63,'³',63,'F',63,'4',63,'³',63,' ',63,'T',63,'r',63
        Db      'e',63,'m',63,'o',63,'l',63,'o',63,' ',63,' ',63,' ',63
        Db      ' ',63,':',63,' ',63,'O',53,'n',53,' ',53,' ',53,' ',53
        Db      ' ',53,' ',53,' ',53,' ',53,' ',53,' ',53,'º',63,'º',95
        Db      ' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95,' ',95
        Db      ' ',95,'³',95,'F',95,'4',95,'³',95,' ',95,'T',95,'r',95
        Db      'e',95,'m',95,'o',95,'l',95,'o',95,' ',95,' ',95,' ',95
        Db      ' ',95,':',95,' ',95,'O',83,'n',83,' ',83,' ',83,' ',83
        Db      ' ',83,' ',83,' ',83,' ',83,' ',83,' ',83,'º',95,'È',63
        Db      'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63
        Db      'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63
        Db      'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63
        Db      'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63
        Db      'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'Í',63,'¼',63,'È',95
        Db      'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95
        Db      'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95
        Db      'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95
        Db      'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95
        Db      'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'Í',95,'¼',95,'°',1
        Db      '±',1,'²',1,'Û',1,' ',17,' ',17,' ',17,' ',17,' ',17,' '
        Db      17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' '
        Db      17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' '
        Db      17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' ',17,' '
        Db      17,'F',30,'m',30,'-',30,'T',30,'r',30,'a',30,'c',30,'k'
        Db      30,'e',30,'r',30,'s',30,' ',30,' ',30,' ',30,' ',30,' '
        Db      30,' ',30,' ',30,' ',30,' ',30,' ',30,' ',30,' ',30,' '
        Db      30,' ',30,' ',30,' ',30,' ',30,' ',30,' ',30,' ',30,' '
        Db      30,' ',30,' ',30,' ',30,' ',30,' ',30,' ',30,' ',30,' '
        Db      30,' ',30,' ',30,'Û',1,'²',1,'±',1,'°',1

 No_Flat_Mode Db "Votre Machine est en Mode Virtuel 86.",0Dh,0Ah
              Db "Dsactivez le gestionnaire d'EMS si activ",0Dh,0Ah
              Db "Un gestionnaire XMS est requis (Himem.Sys).",0Dh,0Ah
              Db 0Dh,0Ah
              Db "Redmarrez votre ordinateur et aprs le [Memory test], "
              Db 0Dh,0Ah
              Db "appuyer sur la touche [F8] et slectionner l'invitation "
              Db 0Dh,0Ah
              Db "MS-DOS en mode sans chec seulement,"
              Db 0Dh,0Ah
              Db "dans le menu de dmarrage de Microsoft.",0Dh,0Ah,'$'
 No_Xms_Drv   Db "Aucun gestionnaire d'XMS install (Himem.Sys).",0Dh,0Ah,'$'
 Xms_Drv_Lw   Db "Votre gestionnaire d'XMS doit posseder un version,",0Dh,0Ah
              Db "Ultrieur ou gale a 2.0 .",0Dh,0Ah,'$'
 Miss_Mem     Db "Manque de Memoire !!!",0Dh,0Ah,'$'

 Hex_Table Db "0123456789ABCDEF"

 Speed Db 00h
 Bpm   Db 00h
 Octave Db 00h
 Instruments Db 00h
 TP Db 00h              ; Track or Pattern Select
 Pattern Db 00h

 Nibble_Pos Db 00h
 Nib_Val Db 00h
 PNibble_Pos Db 00h
 PNib_Val Db 00h

 Track_Pos Db 00h       ; (0..17)  (0..8) Left , (9..17) Right
 Track_In_Pos Db 00h    ; 0 , 1 , 2  (Note,Instrument,Volume)
 Track_Vert Db 00h
 Pos_Vert Db 00h
 T_Pos_Table Dw 03*2,011*2,019*2,027*2,035*2,043*2,051*2,059*2,067*2
 Key_Hexa_Press Db 11,2,3,4,5,6,7,8,9,10,30,48,46,32,18,33

 Notes Db 'C-','C#','D-','D#','E-','F-','F#','G-','G#','A-','A#','B-'
       Db '..','..','..','..'

 N_Val Dw 0343d,0363d,0385d,0408d,0432d,0458d,0485d,0514d,0544d,0577d
;           C     C#    D     D#    E     F     F#    G     G#    A
       Dw 0611d,0647d
;           B    A#h

 Notes_Length Equ 02d*017d

 NotesId Db 044,(00*16)+00,031,(00*16)+01
         Db 045,(00*16)+02,032,(00*16)+03
         Db 046,(00*16)+04,047,(00*16)+05
         Db 034,(00*16)+06,048,(00*16)+07
         Db 035,(00*16)+08,049,(00*16)+09
         Db 036,(00*16)+010,050,(00*16)+011
         Db 051,(01*16)+00,038,(01*16)+01
         Db 052,(01*16)+02,039,(01*16)+03
         Db 053,(01*16)+04
         Db 16,(01*16)+00, 03,(01*16)+01
         Db 17,(01*16)+02, 04,(01*16)+03
         Db 18,(01*16)+04, 19,(01*16)+05
         Db 06,(01*16)+06, 20,(01*16)+07
         Db 07,(01*16)+08, 21,(01*16)+09
         Db 08,(01*16)+10, 22,(01*16)+11
         Db 23,(02*16)+00, 10,(02*16)+01
         Db 24,(02*16)+02, 11,(02*16)+03
         Db 25,(02*16)+04

; Notes: 0..11, Octave:0..7, Instruments : 00..FF, Volume : 00..FF
; 3 Octets  18 Channels * Size(3) * 64
 M_Pat Db (18*3*64) Dup (0FFh);
       Db (018d*03d*01d) Dup (0FFh)   ; Pour le BackSpace
       Db (018d*03d*01d) Dup (0FFh)   ; Pour le BackSpace

 Text_I_L Equ 038d

 Text_I Db 16,'Q',17,'W',18,'E',19,'R',20,'T',21,'Y',22,'U',23,'I'
       Db 24,'O',25,'P',30,'A',31,'S',32,'D',33,'F',34,'G',35,'H'
       Db 36,'J',37,'K',38,'L',44,'Z',45,'X',46,'C',47,'V',48,'B'
       Db 49,'N',50,'M',57,' ',02,'1',03,'2',04,'3',05,'4',06,'5'
       Db 07,'6',08,'7',09,'8',10,'9',11,'0',12,'-'

 Pattern_Table Db 256 Dup (0);
 Pattern_Counter Db 256 Dup (0);
 Play_Pattern_Pos Dw 00h
 Pattern_Line Equ (03d*018d)
 Music_Counter Dd 00h
 Nbr_Pattern Db 00h

;                                                   Bits
;---------------------------------------------------------------------------
;Facteur de Multiplication                          0..3
;Reduction des aigus Activee                        4
;Type de l'enveloppe (0:Decroissante,1:Contine)     5
;Vibrator                                           6
;Tremolo                                            7
;---------------------------------------------------------------------------
;Facteur d'Attenuation                              0..5
;Attenuation des aigus par Octave                   6..7
;---------------------------------------------------------------------------
;Decay de l'Enveloppe                               0..3
;Attack de l'Enveloppe                              4..8
;---------------------------------------------------------------------------
;Release de l'Enveloppe                             0..3
;Sustain de l'Enveloppe                             4..8
;---------------------------------------------------------------------------
;WaveForm                                           0..1
;---------------------------------------------------------------------------
;Liaison des Cellules d'oScillateur (0:MC,1:Add)    0
;FeedBack                                           1..3
;---------------------------------------------------------------------------
;Song Name (24), Modulator, Carrier
 Instruments_Table  Db 000h,000h,082h,000h,003h,001h
                    Db 000h,000h,0A4h,000h,003h,001h
                    Db 'ZXC~1                   '
                    Db 0C0h,000h,0A8h,001h,000h,008h
                    Db 030h,008h,0F3h,001h,000h,008h
                    Db 'QWE~1                   '
                    Db 0E2h,020h,0F3h,020h,000h,006h
                    Db 0C8h,004h,0F6h,0F7h,000h,006h
                    Db 'String                  '
                    Db 0C0h,000h,0A8h,05Fh,008h,000h
                    Db 030h,008h,0F3h,0F4h,008h,000h
                    Db 'X-Bass_Drum             '
                    Db 0CFh,000h,0F0h,084h,000h,00Eh
                    Db 0F0h,000h,0F5h,0F4h,000h,00Eh
                    Db 'X-Hihat                 '
                    Db 0CFh,000h,0F0h,084h,00Eh,000h
                    Db 0F0h,000h,0F5h,0F4h,00Eh,000h
                    Db 'X-Hihat2                '
                    Db 0E2h,008h,0F2h,0F4h,000h,00Ah
                    Db 0E2h,004h,0F6h,0F5h,000h,00Ah
                    Db 'X~1                     '
                    Db 0E2h,007h,0F2h,0F4h,000h,008h
                    Db 0E2h,004h,0F6h,0F5h,000h,008h
                    Db 'X~2                     '
                    Db 0E2h,006h,0F2h,0F4h,000h,006h
                    Db 0E2h,004h,0F6h,0F5h,000h,006h
                    Db 'X~3                     '
                    Db 0E2h,005h,0F2h,0F4h,000h,004h
                    Db 0E2h,004h,0F6h,0F5h,000h,004h
                    Db 'X~4                     '
                    Db 0E2h,005h,0F2h,0F4h,000h,007h
                    Db 0E2h,004h,0F6h,0F5h,000h,007h
                    Db 'X~Z1                    '
                    Db 0E2h,005h,0F2h,0F4h,000h,006h
                    Db 0E2h,004h,0F6h,0F5h,000h,006h
                    Db 'X~Z2                    '
                    Db 0E2h,005h,0F2h,0F4h,000h,005h
                    Db 0E2h,004h,0F6h,0F5h,000h,005h
                    Db 'X~Z3                    '
                    Db 0E2h,005h,0F2h,0F4h,000h,004h
                    Db 0E2h,004h,0F6h,0F5h,000h,004h
                    Db 'X~Z4                    '
                    Db 0E2h,005h,0F2h,0F4h,000h,003h
                    Db 0E2h,004h,0F6h,0F5h,000h,003h
                    Db 'X~Z5                    '
                    Db 0E2h,005h,0F2h,0F4h,000h,002h
                    Db 0E2h,004h,0F6h,0F5h,000h,002h
                    Db 'X~Z6                    '
                    Db 0E2h,005h,0F2h,0F4h,000h,001h
                    Db 0E2h,004h,0F6h,0F5h,000h,001h
                    Db 'X~Z7                    '
                    Db 0E2h,005h,0F2h,0F4h,000h,000h
                    Db 0E2h,004h,0F6h,0F5h,000h,000h
                    Db 'X~Z8                    '
                    Db 002h,01Ah,0A4h,0F7h,000h,000h
                    Db 0E2h,006h,0F4h,0F7h,003h,000h
                    Db 'Fx~1                    '
                    Db 0C4h,000h,0F6h,035h,000h,005h
                    Db 0C4h,000h,0F6h,035h,001h,005h
                    Db 'String                  '
                    Db 0E2h,010h,031h,0F4h,002h,002h
                    Db 0E2h,003h,031h,0F5h,001h,002h
                    Db 'String_Slide_Up         '
                    Db 0F0h,009h,0F1h,062h,002h,0C0h
                    Db 0F0h,000h,0F2h,015h,001h,0C0h
                    Db 'Hard_Bass_Reverse       '
                    Db 0E0h,0F0h,0F2h,0F4h,000h,006h
                    Db 0E0h,000h,0F5h,0F5h,000h,006h
                    Db 'Bass                    '
                    Db 0CFh,000h,0F0h,084h,000h,008h
                    Db 0E0h,000h,0F7h,0F4h,000h,008h
                    Db '...                     '
                    Db 0E0h,000h,0A8h,058h,000h,008h
                    Db 0C0h,000h,0F5h,0F8h,000h,008h
                    Db 'BD_Bass                 '
                    Db 0E0h,002h,090h,0F3h,000h,008h
                    Db 0E5h,000h,097h,028h,000h,008h
                    Db 'B-Rev                   '
                    Db 0C0h,000h,0A8h,05Fh,000h,008h
                    Db 030h,008h,0F3h,0F4h,000h,008h
                    Db 'Bass_Drum_Tom           '
                    Db 0C0h,090h,0A3h,0F6h,000h,000h
                    Db 0E0h,004h,0F5h,0F5h,000h,000h
                    Db 'Slap_Bass               '
                    Db 0E2h,012h,0F2h,0F8h,000h,004h
                    Db 0E2h,008h,0F5h,0F6h,000h,004h
                    Db 'Light_String            '
                    Db 0CFh,000h,0F0h,004h,002h,00Eh
                    Db 0E0h,000h,0F7h,0F4h,000h,00Eh
                    Db 'Hihat_Snare             '
                    Db 0E0h,000h,098h,0F8h,000h,008h
                    Db 0C0h,000h,0F5h,078h,000h,008h
                    Db 'Bd                      '
                    Db 0E2h,020h,0F3h,020h,000h,006h
                    Db 0C8h,004h,0F6h,0F7h,000h,006h
                    Db 'Bass_Str                '
                    Db 0E4h,017h,0F8h,066h,000h,00Eh
                    Db 0E2h,000h,0F5h,0A6h,001h,00Eh
                    Db 'Guit                    '
                    Db 00Fh,000h,0F4h,0F0h,000h,00Eh
                    Db 00Fh,0C0h,0B7h,0F0h,002h,00Eh
                    Db 'Hihat                   '
                    Db 0E0h,000h,0A8h,058h,000h,008h
                    Db 0C0h,000h,0F5h,0F8h,000h,008h
                    Db 'B_D_B                   '
                    Db 008h,000h,0A2h,0FFh,000h,0CCh
                    Db 002h,000h,0F6h,0FFh,000h,0CCh
                    Db 'Snare-Drum              '
                    Db 0FFh,000h,0F0h,042h,001h,001h
                    Db 0FFh,000h,0F0h,042h,001h,001h
                    Db 'Light_String            '
                    Db 0E2h,020h,0F3h,020h,000h,001h
                    Db 0C8h,004h,0F6h,0F7h,000h,001h
                    Db 'String_Voice            '
                    Db 0C0h,008h,0F4h,000h,003h,001h
                    Db 0C0h,008h,0F4h,000h,001h,001h
                    Db 'String_01               '
                    Db 0C0h,008h,0F4h,000h,003h,001h
                    Db 0C0h,008h,0F4h,000h,003h,001h
                    Db 'String_02               '
                    Db 0C0h,008h,0F4h,000h,004h,001h
                    Db 0C0h,008h,0F4h,000h,004h,001h
                    Db 'String_03               '
                    Db 000h,000h,082h,000h,003h,001h
                    Db 000h,000h,0A4h,000h,003h,001h
                    Db 'Bass_01                 '
                    Db 0C0h,000h,0A8h,05Fh,000h,008h
                    Db 030h,008h,0F3h,0F4h,000h,008h
                    Db 'BassDrum_01             '
                    Db 0C2h,008h,0C0h,0F5h,000h,004h
                    Db 0E2h,008h,0F1h,0F5h,002h,004h
                    Db 'Guit                    '
                    Db 030h,008h,0F3h,0F4h,000h,004h
                    Db 0C0h,000h,0A8h,054h,000h,004h
                    Db 'Bass                    '
                    Db 0F5h,008h,0F3h,0F4h,000h,00Eh
                    Db 0CFh,000h,0F0h,0F4h,001h,00Eh
                    Db '...                     '
                    Db 042h,006h,0F4h,0F5h,000h,001h
                    Db 022h,000h,0F4h,0F5h,001h,001h
                    Db 'Low_String              '
                    Db 0C2h,00Ch,033h,0F4h,002h,001h
                    Db 0E2h,00Ch,043h,0F5h,002h,001h
                    Db 'Low_Guit                '
                    Db 0E1h,00Ch,021h,0F5h,001h,001h
                    Db 0F1h,00Ch,021h,0F4h,003h,001h
                    Db 'Dark_String             '
                    Db 0E3h,018h,053h,0F0h,000h,001h
                    Db 0C3h,018h,042h,0F5h,000h,001h
                    Db 'Bass                    '
                    Db 0E0h,000h,0F4h,084h,001h,003h
                    Db 0E0h,000h,0F4h,084h,003h,003h
                    Db 'Violon                  '
                    Db 030h,00Eh,040h,0F4h,002h,001h
                    Db 0C0h,000h,048h,054h,002h,001h
                    Db 'Voice                   '
                    Db 0E2h,00Ah,055h,0F7h,003h,006h
                    Db 0E2h,020h,0F5h,0F2h,000h,006h
                    Db 'Rev                     '
                    Db 0F2h,004h,0F5h,0F6h,000h,000h
                    Db 0E2h,02Fh,0AFh,0F2h,000h,000h
                    Db '...                     '
                    Db 01Fh,00Fh,0F6h,0F4h,000h,00Eh
                    Db 00Fh,000h,0F1h,0F4h,000h,00Eh
                    Db 'Bell                    '
                    Db 0E2h,00Ah,052h,0F7h,003h,000h
                    Db 0E2h,020h,0A3h,0F4h,003h,001h
                    Db 'Violon                  '
                    Db 0C2h,006h,0F4h,0F5h,001h,001h
                    Db 0C1h,008h,0F4h,0F4h,003h,001h
                    Db 'Bass                    '
                    Db 0C2h,008h,021h,0F4h,000h,007h
                    Db 0E8h,006h,030h,0F5h,000h,007h
                    Db 'Flute                   '
                    Db 0C2h,008h,021h,0F4h,000h,007h
                    Db 0C1h,008h,030h,0F5h,006h,007h
                    Db 'Hard_Vibe               '
                    Db 0E2h,001h,0F6h,0F4h,000h,003h
                    Db 0C1h,008h,0F6h,084h,000h,003h
                    Db 'Bell_Bass               '
                    Db 0E1h,008h,0F8h,084h,003h,003h
                    Db 0C1h,000h,0F6h,0F8h,000h,003h
                    Db 'Light_Bass              '
                    Db 010h,008h,015h,0F7h,000h,00Eh
                    Db 000h,000h,0F5h,0F5h,006h,000h
                    Db 'Hard_Bass               '
                    Db 030h,008h,0F0h,0F4h,000h,004h
                    Db 0C0h,000h,0F6h,054h,000h,006h
                    Db 'Guit_Bass               '
                    Db 0E2h,006h,054h,0F6h,000h,006h
                    Db 0C2h,01Ah,015h,0F7h,000h,006h
                    Db 'Rev                     '
                    Db 0E2h,00Fh,0F6h,0F7h,003h,009h
                    Db 0E2h,005h,0F6h,0F7h,000h,009h
                    Db 'Piano                   '
                    Db 0E1h,003h,0F4h,0F6h,001h,006h
                    Db 001h,01Ah,025h,0F1h,000h,006h
                    Db 'Rev                     '
                    Db 0C0h,000h,0F6h,0F8h,000h,008h
                    Db 0E0h,000h,0A7h,058h,000h,008h
                    Db 'Bass                    '
                    Db 0C0h,000h,0F5h,0F8h,000h,008h
                    Db 0E0h,000h,0A8h,0F8h,000h,008h
                    Db 'L-Bass                  '
                    Db 0E0h,0C0h,0F7h,0F4h,000h,00Eh
                    Db 0CFh,000h,0F0h,084h,000h,00Eh
                    Db '?                       '
                    Db 030h,008h,0F0h,0F4h,000h,000h
                    Db 0C0h,000h,0FAh,044h,000h,000h
                    Db 'String_Bass             '
                    Db 0E2h,008h,0F6h,0F4h,003h,007h
                    Db 0E2h,008h,0F6h,0F5h,000h,007h
                    Db 'Piano                   '
                    Db 0C4h,008h,021h,0F5h,000h,005h
                    Db 0E2h,008h,0A1h,0F6h,001h,003h
                    Db 'String                  '
                    Db 030h,008h,0F0h,0F4h,004h,004h
                    Db 0C0h,008h,0FFh,056h,000h,004h
                    Db 'R-Bass                  '
                    Db 042h,008h,0F5h,0F5h,003h,001h
                    Db 022h,008h,0F5h,004h,002h,001h
                    Db 'String_Piano            '
                    Db 0C2h,018h,022h,0F3h,000h,001h
                    Db 0E2h,008h,022h,0F3h,002h,001h
                    Db 'Shade-Up Str            '
                    Db 0E0h,008h,0F7h,0F4h,000h,00Eh
                    Db 0E0h,000h,0F3h,0F4h,000h,00Eh
                    Db 'Bdb                     '
                    Db ((0256d-04Ah) *(024d+06d+06d)) Dup (00d)

; ---------------------------------------------------------------------------
; Canal  : 00 01 02 03 04 05 06 07 08
; Osc Mod: 00 01 02 06 07 08 12 13 14
; Osc Car: 03 04 05 09 10 11 15 16 17
; -----------------------------= Oscillateur =-------------------------------
; #CO: 00 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 17 
; Ofs: 00 01 02 03 04 05 08 09 0A 0B 0C 0D 10 11 12 13 14 15
; ---------------------------------------------------------------------------
 Channel Db 00h,01h,02h,08h,09h,0Ah,10h,11h,12h   ; Modulator
         Db 03h,04h,05h,0Bh,0Ch,0Dh,13h,14h,15h   ; Carrier = Mod + 03d
         Db 00h,01h,02h,03h,04h,05h,06h,07h,08h   ; Pour Activation du Channel
         Db 00h,01h,02h,03h,04h,05h,06h,07h,08h   ; Pour Activation du Channel

 Song_N_Length Db 00h
 I_Name_Temp Db 032d Dup (32); 
 Switch Db 'Off On  '
       ;            Description de la table GDT pour le Flat Mode
       ;            ---------------------------------------------
       ; 16 Bits  Longeur du Segment
       ; 24 Bits  Adresse Physique
       ; 08 Bits  Droits d'acces
       ; 16 Bits  Bits Supplementaires pour la longueur du segment
       ; La premiere occurence doit commencer par un segment nul
       ; La deuxieme occurence -
       ;  L'adresse physique est null pour commencer au debut de la memoire
       ;  Droit d'acces a 092h pour propriete maximun pour un segment de
       ;  donnees.
       ;  Totalite de la memoire (4gb 2 premiers et 2 derniers octets)

 GDT_Table  Db 000h,000h,000h,000h,000h,000h,000h,000h ; Avec Segment Null
            Db 0FFh,0FFh,000h,000h,000h,092h,0CFh,0FFh ; Seg = 0 , Max =4gb

 GDT_Offset Dw $-GDT_Table,000h,000h

 Xms_Drivers_Ptr  Dd 'JSR '    ; Pointeur sur le gestionnaire d'XMS

 Xms_Struc Struc
 Xms_Length  Dw ?              ; Longueur
 Xms_Handle  Dw ?              ; Handle
 Xms_Ptr     Dd ?              ; Pointeur
 Xms_Struc Ends

 Xms_01 Xms_Struc 1 Dup (<900,00,00>)     ; 1e type de memoire

 NH8 Dd 00h  ; Adresse Du Nop_Play
 PH8 Dd 00h  ; Adresse Du Play_Pattern
 MH8 Dd 00h  ; Adresse Du Play_Music
 Music_Pos Dd 00h;

LS      Db      'Ú',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47
        Db      'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'¿',47,'³',47,' ',47
        Db      'L',47,'o',47,'a',47,'d',47,' ',42,' ',47,'F',47,'i',47
        Db      'l',47,'e',47,' ',47,'³',47,'³',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,'³',47,'³',47,' ',47,'É',42,'Í',42,'Í',42,'Í',42
        Db      'Í',42,'Í',42,'Í',42,'Í',42,'Í',42,'»',42,' ',47,'³',47
        Db      '³',47,' ',47,'º',42,' ',42,' ',42,' ',42,' ',42,' ',42
        Db      ' ',42,' ',42,' ',42,'º',42,' ',47,'³',47,'³',47,' ',47
        Db      'È',42,'Í',42,'Í',42,'Í',42,'Í',42,'Í',42,'Í',42,'Í',42
        Db      'Í',42,'¼',42,' ',47,'³',47,'³',47,' ',47,' ',47,' ',47
        Db      ' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47,' ',47
        Db      ' ',47,'³',47,'À',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47
        Db      'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ä',47,'Ù',47
        Db      'Ú',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79
        Db      'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'¿',79,'³',79,' ',79
        Db      'S',79,'a',79,'v',79,'e',79,' ',74,' ',79,'F',79,'i',79
        Db      'l',79,'e',79,' ',79,'³',79,'³',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,'³',79,'³',79,' ',79,'É',76,'Í',76,'Í',76,'Í',76
        Db      'Í',76,'Í',76,'Í',76,'Í',76,'Í',76,'»',76,' ',79,'³',79
        Db      '³',79,' ',79,'º',76,' ',76,' ',76,' ',76,' ',76,' ',76
        Db      ' ',76,' ',76,' ',76,'º',76,' ',79,'³',79,'³',79,' ',79
        Db      'È',76,'Í',76,'Í',76,'Í',76,'Í',76,'Í',76,'Í',76,'Í',76
        Db      'Í',76,'¼',76,' ',79,'³',79,'³',79,' ',79,' ',79,' ',79
        Db      ' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79,' ',79
        Db      ' ',79,'³',79,'À',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79
        Db      'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ä',79,'Ù',79

 Ls_Line Equ (($-Ls)/28/2)
 Ls_Choice Db 00h
 
 File_Id Db 'JSR_FMT~'
 Check_Id Db '        '
;*****************************************************************************
;* Signature d'un Fichier FMT                                                *
;*****************************************************************************
; 8 Octets     Id 'JSR_FMT~'
; 1 Octet      Speed
; 1 Octet      Bpm
; 9216 Octets  Table d'Instruments
; 256 Octets   Pattern_Table 
; 1 Octet      Nombre de Pattern
;=- xXx - 09683d
; 1 Octet      Numero Du Pattern
; 3456 Octets  Contenu Du Pattern
;*****************************************************************************

Data Ends

Code Segment Dword Public Use16 'CODE'
Assume Cs:Code,Ds:Data,Fs:Data,Gs:Data

Even
Check_Flat_Mode Proc Near
;****************************************************************************
;*                     C h e c k _ F l a t _ M o d e                        *
;****************************************************************************
;* Verifie si le bit du protected mode est activ.                          *
;****************************************************************************
 Mov Eax,Cr0
 Mov Dx,Offset No_Flat_Mode
 Test Ax,01
 Jne @Error
Ret
EndP

Even
Install_Flat_Mode Proc Near
;****************************************************************************
;*                    I n s t a l l _ F l a t _ M o d e                     *
;****************************************************************************
;* Installation du Flat mode en activant le protected et le real mode.      *
;****************************************************************************
 Xor Eax,Eax
 Xor Ebx,Ebx
 Mov Cl,04
 Mov Ax,Seg GDT_Table
 Shl Eax,Cl
 Mov Bx,Offset GDT_Table
 Add Eax,Ebx
 Mov Dword Ptr GDT_Offset[2],Eax
 Lgdt pword ptr GDT_Offset
 
 Cli
 Mov Eax,Cr0
 Or Eax,01d
 Mov Cr0,Eax

 Jmp @On_Pm                   ; Vide la queue d'instruction (Pipe Execution)
@On_Pm:
 Mov Bx,08h
 Mov Ds,Bx
 Mov Es,Bx
 Mov Fs,Bx
 Mov Gs,Bx                    ; Adapte aux segments a 4Gb

 And Al,0FEh                  ; Retour en Rm sans Reset du processeur
 Mov Cr0,Eax
 Jmp @On_Rm                   ; Vide la queue d'instruction
@On_Rm:
 Xor Ax,Ax
 Mov Fs,Ax
 Mov Es,Ax
 Mov Ds,Ax
 Sti

Ret
EndP

Even
Check_Xms Proc Near
;****************************************************************************
;*                            C h e c k _ X m s                             *
;****************************************************************************
;* Verification d'un gestionnaire d'XMS.                                    *
;****************************************************************************
 Mov Ax,04300h                 ; Check s'il y a un gestionnaire d'XMS
 Int 02Fh
 Mov Dx,Offset No_Xms_Drv
 Sub Al,080h
 Jne @Error

 Mov Ax,04310h                 ; Obtient le pointeur du Gestionnaire
 Int 02Fh
 Mov Word Ptr Xms_Drivers_Ptr,Bx
 Mov Word Ptr Xms_Drivers_Ptr + 02, Es

 Xor Ax,Ax                     ; Obtenir le numero de version
 Call Dword ptr [Xms_Drivers_Ptr]

 Mov Dx,Offset Xms_Drv_Lw      ; 2.0 et plus
 Sub Ax,0200h
 Js @Error

Ret
EndP

Even
Get_Free_Xms Proc Near
;****************************************************************************
;*                        G e t _ F r e e _ X m s                           *
;****************************************************************************
;* Obtenir le nombre de Ko de libre.                                        *
;****************************************************************************
 Mov Ax,0800h
 Call Dword Ptr [Xms_Drivers_Ptr]

 Mov Dx,Ax
 Mov Dx,Offset Miss_Mem
 Sub Ax,900d
 Jns @Error

Ret
EndP

Even
Get_Mem_Xms Proc Near
;****************************************************************************
;*                          G e t _ M e m _ X m s                           *
;****************************************************************************
;* Obtenir de le memoire.                                                   *
;****************************************************************************
 Mov Ax,0900h                 ; Obtenir xKo de memoire
 Mov Dx,Gs:[Xms_01.Xms_Length]
 Call Dword Ptr Gs:[Xms_Drivers_Ptr]
 Mov Gs:[Xms_01.Xms_Handle],Dx

 Mov Ax,0C00h                  ; Proteger contre deplacement et obtenir le Ptr
 Call Dword Ptr Gs:[Xms_Drivers_Ptr]

 Mov Word Ptr Gs:[Xms_01.Xms_Ptr],Bx
 Mov Word Ptr Gs:[Xms_01.Xms_Ptr+02],Dx

Ret
EndP

Even
Free_Mem_Xms Proc Near
;****************************************************************************
;*                        F r e e _ M e m _ X m s                           *
;****************************************************************************
;* Obtenir de le memoire.                                                   *
;****************************************************************************
 Mov Ax,0D00h                                  ; Desactive la protection
 Mov Dx,Gs:[Xms_01.Xms_Handle]
 Call Dword Ptr Gs:[Xms_Drivers_Ptr]

 Mov Ax,0A00h                                  ; Desalloue la memoire
 Mov Dx,Gs:[Xms_01.Xms_Handle]
 Call Dword Ptr Gs:[Xms_Drivers_Ptr]
Ret
EndP

Install_New_Handler Proc Near
;****************************************************************************
;*                  I n s t a l l _ N e w _ H a n d l e r                   *
;****************************************************************************
;*  Detourne plusieurs interruptions comme le Keyboard...                   *
;****************************************************************************
 Cli
 Mov Ax,Seg Key_Table          ; Data Segment
 Mov Gs,Ax
 
 Xor Ax,Ax                     ; Sauvegarde l'ancien Gestionnaire
 Mov Es,Ax                     ; du keyboard
 Mov Bx,09*04
 Mov Eax,Es:[Bx]
 Mov Cs:[Old_Int_9],Eax
 
 Mov Cx,Cs                     ; Active le nouveau Gestionnaire
 Shl Ecx,16
 Mov Cx,Offset Handler_9
 Mov Es:[Bx],Ecx

 Sub Bx,04                     ; Sauvegarde l'ancien Gestionnaire
 Mov Eax,Es:[Bx]               ; du Timer
 Mov Cs:[Old_Int_8],Eax

 Mov Cx,Offset Nop_Handler_8   ; Active le nouveau Gestionnaire
 Mov Es:[Bx],Ecx

 Mov Gs:[NH8],Ecx
 Mov Cx,Offset Handler_8
 Mov Gs:[PH8],Ecx
 Mov Cx,Offset Handler_Music
 Mov Gs:[MH8],Ecx

 Mov Dx,043h                  ; Remplace le 18,1 interruption a
 Mov Cx,07786d                ; 0256 interruptions a la seconde
 Mov Al,036h
 Out Dx,Al

 Sub Dx,03
 Mov Al,Cl
 Out Dx,Al
 Mov Al,Ch
 Out Dx,Al

 Mov Bx,01Ch*04
 Mov Eax,Es:[Bx]
 Mov Cs:[Old_Int_1C],Eax
 
 Mov Cx,Cs                     ; Active le nouveau Gestionnaire
 Shl Ecx,16
 Mov Cx,Offset Int_Iret
 Mov Es:[Bx],Ecx
 Sti

Ret
EndP

Even
Int_Iret Proc Near
;****************************************************************************
;*                             I n t _ I r e t                              *
;****************************************************************************
Iret
Endp

Even
Old_Int_8  Dd 0     ; Le timer
Old_Int_1C Dd 0     ; Le temporisateur

Remove_New_Handler Proc Near
;****************************************************************************
;*                    R e m o v e _ N e w _ H a n d l e r                   *
;****************************************************************************
;*  Remet les anciennes interruptions pour le timing,le keyboard...         *
;****************************************************************************
 Cli
 Xor Ax,Ax                     ; Active l'ancien gestionnaire du clavier
 Mov Es,Ax
 Mov Bx,09*04
 Mov Eax,Cs:[Old_Int_9]
 Mov Es:[Bx],Eax

 Sub Bx,04                     ; Active l'ancien gestionnaire du timer
 Mov Eax,Cs:[Old_Int_8]
 Mov Es:[Bx],Eax

 Mov Dx,043h                   ; Le remet a 18,1 impulsions a la seconde
 Mov Al,036h
 Out Dx,Al
 Sub Dx,03
 Xor Al,Al
 Out Dx,Al
 Out Dx,Al

 Mov Bx,01Ch*04
 Mov Eax,Cs:[Old_Int_1C]
 Mov Es:[Bx],Eax

 Sti
Ret
EndP

Even
Handler_9 Proc Near
;****************************************************************************
;*                             H a n d l e r _ 9                            *
;****************************************************************************
;* Nouvelle interruption pour le keyboard.                                  *
;* La procedure fonctionne a le methode binaire, un 1 signifie que la touche*
;* est relache, un 0 appuyer.                                               *
;****************************************************************************
 Push Ax
 Push Bx

 In Al,60h

 Xor Bh,Bh
 Mov Bl,Al
 And Bl,01111111b

 Shr Al,07

 Add Bx,Offset Key_Table
 Mov Gs:[Bx],Al

 Mov Ah,Gs:[Bx+0128d]
 And Ah,015d
 Xor Al,01
 Add Ah,Al
 Mov Byte Ptr Gs:[Bx+0128d],Ah

 Mov Al,20h
 Out 20h,Al

 Pop Bx
 Pop Ax
Iret
EndP

Even
Old_Int_9  Dd 0     ; Le keyboard

Even
Handler_8 Proc Near
 Push Eax
 Push Ebx

 Mov Eax,Gs:[Music_Counter]
 Dec Eax
 Mov Gs:[Music_Counter],Eax
 Jnz @No_Play_Line 

 Xor Ebx,Ebx
 Mov Bx,Word Ptr Gs:[Speed]
 Mov Gs:[Music_Counter],Ebx
 Pushfd
 Pushad
 Call Pattern_Music
 Popad
 Popfd
 Inc Word Ptr Gs:[Play_Pattern_Pos]

@No_Play_Line:
 Mov Al,20h
 Out 20h,Al

 Pop Ebx
 Pop Eax
Iret

Nop_Handler_8 Proc Near
 Push Ax
 Mov Al,020h
 Out 020h,Al
 Pop Ax
Iret
EndP
EndP

Even
Handler_Music Proc Near
 Push Eax
 Push Ebx

 Mov Eax,Gs:[Music_Counter]
 Dec Eax
 Mov Gs:[Music_Counter],Eax
 Jnz @No_Play_Line_Music 

 Xor Ebx,Ebx
 Mov Bx,Word Ptr Gs:[Speed]
 Mov Gs:[Music_Counter],Ebx
 Pushfd
 Pushad
 Call Play_Music
 Popad
 Popfd
 Inc Dword Ptr Gs:[Music_Pos]

@No_Play_Line_Music:
 Mov Al,20h
 Out 20h,Al

 Pop Ebx
 Pop Eax

Iret
EndP

Even
Copy_Main Proc Near
 Push Ds
 Pop Es
 Mov Si,Offset Fm_Main
 Mov Di,Offset Screen
 Mov Cx,08000d/04d
 Rep Movsd
Ret
EndP

Even
Show Proc Near
;*****************************************************************************
;*                                S h o w                                    *  
;*****************************************************************************
 Mov Ax,0B800h
 Xor Di,Di
 Mov Es,Ax
 Mov Si,Offset Screen
 Mov Cx,08000d/04d
 Rep Movsd

 Mov Bl,08h
 Mov Dx,03DAh
@1:
 In Al,Dx
 Test Al,Bl
 Jnz @1
@2:
 In Al,Dx
 Test Al,Bl
 Jz @2

Ret
EndP

Pos_Num Proc Near
 Xor Ah,Ah
 Xor Bh,Bh
 Shr Bl,04
 And Al,0Fh
 Add Ax,Offset Hex_Table
 Add Bx,Offset Hex_Table
 Mov Di,Ax
 Mov Bl,Gs:[Bx]
 Mov Bh,Gs:[Di]
 Mov Gs:[Si],Bl
 Mov Gs:[Si+2],Bh
Ret
EndP

Even
Set_Fx Proc Near
 Mov Bl,Gs:[Speed]                             ; Speed
 Mov Ax,Word Ptr Gs:[Key_Table[67]]
 Xor Ax,0101h
 Sub Bl,Al
 Add Bl,Ah
@Loop_67:
 Mov Ax,Word Ptr Gs:[Key_Table[67]]
 Test Al,Al
 Jz @Loop_67
 Test Ah,Ah
 Jz @Loop_67
 Mov Gs:[Speed],Bl
 Mov Al,Bl
 Mov Si,Offset Screen+(0160d*021d)+(078d*02d)
 Call Pos_Num

 Mov Bl,Gs:[Bpm]                               ; Bpm
 Mov Ax,Word Ptr Gs:[Key_Table[87]]
 Xor Ax,0101h
 Sub Bl,Al
 Add Bl,Ah
@Loop_87:
 Mov Ax,Word Ptr Gs:[Key_Table[87]]
 Test Al,Al
 Jz @Loop_87
 Test Ah,Ah
 Jz @Loop_87
 Mov Gs:[Bpm],Bl
 Mov Al,Bl
 Mov Si,Offset Screen+(0160d*024d)+(078d*02d)
 Call Pos_Num

 Mov Bl,Gs:[Octave]                            ; Octave
 Mov Ax,Word Ptr Gs:[Key_Table[61]]
 Xor Ax,0101h
 Sub Bl,Al
 Add Bl,Ah
@Loop_61:
 Mov Ax,Word Ptr Gs:[Key_Table[61]]
 Test Al,Al
 Jz @Loop_61
 Test Ah,Ah
 Jz @Loop_61
 And Bl,07h
 Mov Gs:[Octave],Bl
 Mov Al,Bl
 Mov Si,Offset Screen+(0160d*027d)+(078d*02d)
 Call Pos_Num

 Mov Bl,Gs:[Instruments]                       ; Instruments
 Mov Ax,Word Ptr Gs:[Key_Table[59]]
 Xor Ax,0101h
 Sub Bl,Al
 Add Bl,Ah
@Loop_59:
 Mov Ax,Word Ptr Gs:[Key_Table[59]]
 Test Al,Al
 Jz @Loop_59
 Test Ah,Ah
 Jz @Loop_59
 Mov Gs:[Instruments],Bl
 Mov Al,Bl
 Mov Si,Offset Screen+(0160d*030d)+(078d*02d)
 Call Pos_Num
 Mov Bx,Offset Screen+(0160d*039d)+(028d*02d)
 Mov Cl,04d
 Mov Al,'°'
@L1:
 Mov Byte Ptr Gs:[Bx],Al
 Mov Byte Ptr Gs:[Bx+160d],Al
 Add Bx,0320d
 Dec Cl
 Jnz @L1
 Mov Bl,Gs:[Instruments]
 Shr Bl,05
 Xor Bh,Bh
 Imul Bx,0160d
 Add Bx,Offset Screen+(0160d*039d)+(028d*02d)
 Mov Byte Ptr Gs:[Bx],'Û'
 Mov Si,Offset Screen+(0160d*038d)+(01d*02d)
 Mov Cl,010d
 Mov Bl,Gs:[Instruments]
@Loop_Num_Ins:
 Push Bx
 Mov Al,Bl
 Call Pos_Num
 Add Si,0160d
 Pop Bx
 Inc Bl
 Dec Cl
 Jnz @Loop_Num_Ins
Ret
EndP

Even
Press_Notes Proc Near
 Mov Al,Gs:[Key_Table[82]]     ; Insert
 Test Al,Al
 Jnz @No_Insert_Place
 Mov Al,Gs:[Key_Table2[82]]
 Test Al,Al
 Jz @No_Insert_Place
 Xor Al,Al
 Mov Gs:[Key_Table2[82]],Al
 Xor Ah,Ah
 Xor Dh,Dh
 Mov Di,Offset M_Pat
 Mov Al,Gs:[Track_Vert]
 Mov Dl,Gs:[Track_Pos]
 Mov Cl,Al
 Imul Ax,018*3d
 Mov Ch,Dl
 Add Dl,Dl
 Add Dl,Ch
 Add Di,Ax
 Add Di,Dx
 Mov Si,Offset M_Pat+(18*3*63)
 Add Si,Dx
 Neg Cl
 Add Cl,064d
@Loop_Insert:
 Mov Ax,Gs:[Si-18*3]
 Mov Bl,Gs:[Si-18*3+2]
 Mov Gs:[Si],Ax
 Mov Gs:[Si+2],Bl
 Sub Si,018d*03d
 Dec Cl
 Jnz @Loop_Insert
 Mov Word Ptr Gs:[Di],0FFFFh
 Mov Byte Ptr Gs:[Di+2],0FFh

 Pushad
 Call Copy_Pattern_2_Music
 Popad
@No_Insert_Place:

 Mov Al,Gs:[Key_Table[83]]     ; Delete
 Test Al,Al
 Jnz @No_Delete_Note
 Mov Al,Gs:[Key_Table2[83]]
 Test Al,Al
 Jz @No_Delete_Note
 Xor Al,Al
 Mov Gs:[Key_Table2[83]],Al
 Xor Ah,Ah
 Xor Dh,Dh
 Mov Di,Offset M_Pat
 Mov Al,Gs:[Track_Vert]
 Mov Dl,Gs:[Track_Pos]
 Mov Cl,Al
 Imul Ax,018*3d
 Mov Ch,Dl
 Add Dl,Dl
 Add Dl,Ch
 Add Di,Ax
 Add Di,Dx
 Mov Word Ptr Gs:[Di],0FFFFh
 Mov Byte Ptr Gs:[Di+02],0FFh
 Mov Al,Gs:[Track_Vert]
 Inc Al
 Cmp Al,064d
 Jl @No_Down2
 Mov Al,063d
@No_Down2:
 Mov Gs:[Track_Vert],Al

 Pushad
 Call Copy_Pattern_2_Music
 Popad

@No_Delete_Note:

 Mov Al,Gs:[Key_Table[14]]     ; BackSpace
 Test Al,Al
 Jnz @No_BackSpace
 Mov Al,Gs:[Key_Table2[14]]
 Test Al,Al
 Jz @No_BackSpace
 Xor Al,Al
 Mov Gs:[Key_Table2[14]],Al

 Xor Ah,Ah
 Xor Dh,Dh
 Mov Di,Offset M_Pat
 Mov Al,Gs:[Track_Vert]
 Mov Dl,Gs:[Track_Pos]
 Mov Cl,Al
 Imul Ax,018*3d
 Mov Ch,Dl
 Add Dl,Dl
 Add Dl,Ch
 Add Di,Ax
 Add Di,Dx
 Test Cl,Cl
 Jz @FBp
 Sub Di,018d*03d
@Fbp:

 Dec Cl
 Neg Cl
 Add Cl,064d
@Loop_Bp:
 Mov Ax,Gs:[Di+18*3]
 Mov Bl,Gs:[Di+18*3+2]
 Mov Gs:[Di],Ax
 Mov Gs:[Di+2],Bl
 Add Di,018d*03d
 Dec Cl
 Jnz @Loop_Bp

 Mov Al,Gs:[Track_Vert]
 Dec Al
 Jns @No_Down3
 Xor Al,Al
@No_Down3:
 Mov Gs:[Track_Vert],Al

 Pushad
 Call Copy_Pattern_2_Music
 Popad

@No_BackSpace:

;- Writes Notes
 Mov Al,Gs:[Track_In_Pos]
 Test Al,Al
 Jnz @No_Press_Notes
 Mov Cl,Notes_Length  
 Xor Ah,Ah
 Xor Dh,Dh
 Mov Bp,Offset Key_Table
 Mov Si,Offset NotesId
 Mov Di,Offset M_Pat
 Mov Al,Gs:[Track_Vert]
 Mov Dl,Gs:[Track_Pos]
 Imul Ax,018*3d
 Mov Ch,Dl
 Add Dl,Dl
 Add Dl,Ch
 Add Di,Ax
 Add Di,Dx
 Mov Byte Ptr Cs:[@Change_Me],0C3h

 Xor Bh,Bh
Even
@Loop_Press_Notes:
 Mov Bl,Gs:[Si]
 Add Bx,Bp
 Mov Al,Gs:[Bx]
 Test Al,Al
 Jnz @No_Press

 Mov Al,Gs:[Bx+0128d]
 Test Al,Al
 Jz @No_Press
 Xor Al,Al
 Mov Gs:[Bx+0128d],Al

 Mov Al,Gs:[Si+1]
 Mov Ah,Al
 And Al,0Fh
 Shr Ah,04d
 Add Ah,Gs:[Octave]
 And Ah,07
 Shl Ah,04
 Or Al,Ah
 Mov Gs:[Di],Al
 Mov Ah,Gs:[Instruments]
 Mov Gs:[Di+1],Ah
 Mov Byte Ptr Cs:[@Change_Me],090h

 Pushad
 Call Copy_Pattern_2_Music
 Popad

@No_Press:
 Inc Si
 Inc Si
 Dec Cl
 Jnz @Loop_Press_Notes

@Change_Me:
Nop

 Mov Al,Gs:[Track_Vert]
 Inc Al
 Cmp Al,064d
 Jl @No_Down
 Mov Al,063d
@No_Down:
 Mov Gs:[Track_Vert],Al
Ret
@No_Press_Notes:

Ret

@ST_Row:
 Mov Al,Gs:[Track_In_Pos]
 Test Al,Al
 Jz @End_First_Row
 Dec Al                ; Desactive L'instruments
 Jz @End_First_Row
 Xor Ah,Ah
 Mov Cl,016d
 Mov Bx,Offset Key_Hexa_Press
 Mov Di,Offset M_Pat+1
 Add Di,Ax
 Xor Ah,Ah
 Xor Dh,Dh
 Mov Al,Gs:[Track_Vert]
 Mov Dl,Gs:[Track_Pos]
 Imul Ax,018*3d
 Mov Ch,Dl
 Add Dl,Dl
 Add Dl,Ch
 Add Di,Ax
 Add Di,Dx

 Xor Ah,Ah
@Loop_Key_Press:
 Push Bp
 Mov Bp,Offset Key_Table
 Mov Al,Gs:[Bx]
 Add Bp,Ax
 Mov Al,Gs:[Bp]
 Test Al,Al
 Jnz @No_Kp
 Mov Al,Gs:[Bp+0128d]
 Test Al,Al
 Jz @No_Kp
 Xor Al,Al
 Mov Gs:[Bp+0128d],Al

 Push Cx
 Mov Ch,Cl
 Dec Ch
 Xor Ch,0Fh

 Mov Al,Gs:[Nib_Val]
 Mov Gs:[Nib_Val],Ch
 Mov Cl,Nibble_Pos
 Xor Cl,04h
 Shl Ch,Cl
 Xor Cl,04h
 Shl Al,Cl
 Or Ch,Al

 Mov Gs:[Di],Ch                   
 Mov Ch,Gs:[Di-2]
 Inc Ch
 Jnz @No_New_Notes
 Mov Byte Ptr Gs:[Di-1],00h
@No_New_Notes:

 Test Cl,Cl
 Jz @Nqkzx
 Mov Byte Ptr Gs:[Nib_Val],00h
@Nqkzx:
 Xor Byte Ptr Gs:[Nibble_Pos],04h
 Pop Cx

 Pushad
 Call Copy_Pattern_2_Music
 Popad

@No_Kp:
 Pop Bp
 Inc Bx
 Dec Cl
 Jnz @Loop_Key_Press

@End_First_Row:

Ret
EndP

Even
Main_Tracker Proc Near
 Call Copy_Main
 Call Set_Fx
 
 Mov Di,Offset Screen+(04d*02d)+(038d*0160d)
 Mov Si,Offset Instruments_Table+012d
 Mov Dx,010d+(024d*0256d)
 Mov Al,Gs:[Instruments]
 Xor Ah,Ah
Even
@Loop_Show_Name_Instruments2:
 Push Si
 Push Di
 Push Ax
 Xor Ah,Ah
 Imul Ax,036d
 Add Si,Ax
 Mov Cl,Dh
@Loop_H_Ni2:
 Mov Al,Gs:[Si]
 Mov Gs:[Di],Al
 Inc Di
 Inc Si
 Inc Di 
 Dec Cl
 Jnz @Loop_H_Ni2
 Pop Ax
 Pop Di
 Inc Al
 Pop Si
 Add Di,0160d
 Dec Dl
 Jnz @Loop_Show_Name_Instruments2

 Mov Si,Offset Screen+480d+2
 Mov Bl,Gs:[Pos_Vert]
 Mov Cl,016d
Even
@Loop_Num_Chan:
 Push Bx
 Push Si
 Mov Bh,Bl
 And Bh,07h
 Jnz @NV
 Mov Al,0FAh
 And Byte Ptr [Si+1],Al
 And Byte Ptr [Si+1+0160d*017d],Al
 And Byte Ptr [Si+3],Al
 And Byte Ptr [Si+3+0160d*017d],Al
@NV:
 Mov Al,Bl          
 Call Pos_Num
 Pop Si
 Pop Bx
 Push Bx
 Push Si
 Add Si,0160d*017d
 Mov Al,Bl
 Call Pos_Num

 Pop Si
 Pop Bx
 Add Si,0160d
 Inc Bx
 Dec Cl
 Jnz @Loop_Num_Chan
 Mov Al,Gs:[Track_Vert]
 Cmp Al,14
 Jg @Nw1
 Mov Al,015d
@Nw1:
 Sub Al,015d
 Mov Gs:[Pos_Vert],Al

 Mov Al,Gs:[TP]
 Test Al,Al
 Jnz @Pattern

 Xor Ah,Ah
 Mov Si,Offset Screen+(0160d*03d)+1
 Mov Al,Gs:[Track_Vert]
 Cmp Al,16d
 Jl @Max_Vert
 Mov Al,015d
@Max_Vert:
 Imul Ax,0160d 
 Add Si,Ax 
 Mov Ah,Gs:[Track_In_Pos]
 Test Ah,Ah
 Jz @N_G0
 Xor Ch,Ch
 Mov Cl,Ah
 Dec Cl
 Add Si,06d
 Shl Cl,02d
 Add Si,Cx
@N_G0:
 Mov Al,0Fh
 Mov Bl,Gs:[Track_Pos]
 Sub Bl,09d
 Js @No_Right
 Add Si,(0160d*17)
 Sub Bl,09d
@No_Right:
 Add Bl,09d
 Xor Bh,Bh
 Add Bx,Bx
 Add Bx,Offset T_Pos_Table
 Add Si,Gs:[Bx]

 Push Ebp
 Mov Ebp,Gs:[MH8]
 Sub Ebp,Fs:[08d*04d]
 Jz @No_Mod_Pattern_3

 And Gs:[Si],Al
 And Gs:[Si+2],Al
 Test Ah,Ah
 Jnz @N_3
 And Gs:[Si+4],Al
@N_3:
@No_Mod_Pattern_3:
 Pop Ebp

 Mov Al,Gs:[Key_Table[15]]
 Mov Bl,Gs:[Track_Pos]
 Xor Al,01
 Add Bl,Al
 Cmp Bl,017d
 Jle @n
 Xor Bl,Bl
@n:
 Mov [Track_Pos],Bl
@Loop_15:
 Mov Al,[Key_Table[15]]
 Test Al,Al
 Jz @Loop_15

 Mov Bl,Gs:[Key_Table[77]]
 Test Bl,Bl
 Jnz @Change_Pat
 Mov Bl,Gs:[Key_Table2[77]]
 Test Bl,Bl
 Jz @Change_Pat
 Xor Bl,Bl
 Mov Gs:[Key_Table2[77]],Bl
 Mov Word Ptr Gs:[Nibble_Pos],00h
 Mov Ax,Word Ptr Gs:[Track_Pos]
 Inc Ah
 Cmp Ah,03
 Jl @No_Move_Pat
 Xor Ah,Ah
 Inc Al
 Cmp Al,017d
 Jle @n2
 Xor Al,Al
@n2: 
@No_Move_Pat:
 Mov Word Ptr Gs:[Track_Pos],Ax
@Change_Pat:
 Mov Bl,Gs:[Key_Table[75]]
 Test Bl,Bl
 Jnz @Change_Pat2
 Mov Bl,Gs:[Key_Table2[75]]
 Test Bl,Bl
 Jz @Change_Pat2
 Mov Word Ptr Gs:[Nibble_Pos],00h
 Xor Bl,Bl
 Mov Gs:[Key_Table2[75]],Bl
 Mov Ax,Word Ptr Gs:[Track_Pos]
 Dec Ah
 Test Ah,Ah
 Jns @No_Move_Pat2
 Mov Ah,02d
 Dec Al
 Test Al,Al
 Jns @n3
 Mov Al,017d
@n3: 
@No_Move_Pat2:
 Mov Word Ptr Gs:[Track_Pos],Ax
@Change_Pat2:

 Mov Al,Gs:[Key_Table[80]]
 Test Al,Al
 Jnz @K80
 Mov Bl,Gs:[Key_Table2[80]]
 Test Bl,Bl
 Jz @K80
 Xor Bl,Bl
 Mov Gs:[Key_Table2[80]],Bl
 Mov Word Ptr Gs:[Nibble_Pos],00h
 Mov Ah,Gs:[Track_Vert]
 Inc Ah
 Cmp Ah,064d
 Jl @KK80
 Dec Ah
@KK80:
 Mov Gs:[Track_Vert],Ah
@K80:

 Mov Al,Gs:[Key_Table[72]]
 Test Al,Al
 Jnz @K72
 Mov Bl,Gs:[Key_Table2[72]]
 Test Bl,Bl
 Jz @K72
 Xor Bl,Bl
 Mov Gs:[Key_Table2[72]],Bl
 Mov Word Ptr Gs:[Nibble_Pos],00h
 Mov Ah,Gs:[Track_Vert]
 Dec Ah
 Test Ah,Ah
 Jns @KK72
 Inc Ah
@KK72:
 Mov Gs:[Track_Vert],Ah
@K72:

 Mov Al,Gs:[Key_Table[71]]
 Test Al,Al
 Jnz @No71
 Mov Word Ptr Gs:[Nibble_Pos],00h
 Mov Gs:[Track_Vert],00h
@No71:
 Mov Al,Gs:[Key_Table[79]]
 Test Al,Al
 Jnz @No79
 Mov Word Ptr Gs:[Nibble_Pos],00h
 Mov Gs:[Track_Vert],03Fh
@No79:

 Mov Al,Gs:[Key_Table[73]]
 Test Al,Al
 Jnz @No_73
 Mov Bl,Gs:[Key_Table2[73]]
 Test Bl,Bl
 Jz @No_73
 Xor Bl,Bl
 Mov Gs:[Key_Table2[73]],Bl
 Mov Word Ptr Gs:[Nibble_Pos],00h
 Mov Al,Gs:[Track_Vert]
 Sub Al,08d
 Jns @TvM
 Xor Al,Al
@Tvm:
 Mov Gs:[Track_Vert],Al
@No_73:

 Mov Al,Gs:[Key_Table[81]]
 Test Al,Al
 Jnz @No_81
 Mov Bl,Gs:[Key_Table2[81]]
 Test Bl,Bl
 Jz @No_81
 Xor Bl,Bl
 Mov Gs:[Key_Table2[81]],Bl
 Mov Word Ptr Gs:[Nibble_Pos],00h
 Mov Al,Gs:[Track_Vert]
 Add Al,08d
 Cmp Al,064d
 Jl @Tvm2
 Mov Al,03Fh
@Tvm2:
 Mov Gs:[Track_Vert],Al
@No_81:
 
 Call Press_Notes
 Call @ST_Row
;--------------------------------------------------------------------------
@Back_Pattern:

 Mov Si,Offset M_Pat                   ; Affichage des Partitions
 Mov Di,Offset Screen+480d+6
 Mov Al,Gs:[Pos_Vert] 
 Xor Ah,Ah
 Imul Ax,18*3
 Add Si,Ax
 Mov Cx,09+(256*016d)
 Mov Dl,02
 Push Dx
Even
@Show_Partition:
 Push Cx
 Push Di
 Push Si

 Mov Bx,Offset Notes
 Mov Al,Gs:[Si]
 Mov Cl,Al
 Xor Ah,Ah
 And Al,0Fh
 Add Al,Al
 Add Bx,Ax
 Mov Ax,Gs:[Bx]
 Mov Gs:[Di],Al
 Mov Gs:[Di+02],Ah

 Mov Al,Gs:[Di+2]
 Sub Al,'.'
 Jz @No_Show_Oct
 Shr Cl,04
 Add Cl,'0'
 Mov Gs:[Di+04],Cl
@No_Show_Oct:

 Mov Bx,Word Ptr Gs:[Si]
 Xchg Bl,Bh
 Inc Bh
 Mov Al,Gs:[Di+2]
 Jz @No_Show_Ins
 Mov Al,Bl
 Xor Bh,Bh
 Xor Ah,Ah
 Shr Bl,04
 And Al,0Fh
 Add Ax,Offset Hex_Table
 Add Bx,Offset Hex_Table
 Mov Bp,Ax
 Mov Bl,Gs:[Bx]
 Mov Bh,Gs:[Bp]
 Mov Gs:[Di+6],Bl
 Mov Gs:[Di+8],Bh
@No_Show_Ins:

 Mov Bl,Gs:[Si+2]
 Mov Bh,Gs:[Si]
 Inc Bx
 Jz @No_Show_Vol
 Dec Bx
 Mov Al,Bl
 Xor Bh,Bh
 Xor Ah,Ah
 Shr Bl,04
 And Al,0Fh
 Add Ax,Offset Hex_Table
 Add Bx,Offset Hex_Table
 Mov Bp,Ax
 Mov Bl,Gs:[Bx]
 Mov Bh,Gs:[Bp]
 Mov Gs:[Di+10],Bl
 Mov Gs:[Di+12],Bh
@No_Show_Vol:

 Pop Si
 Pop Di
 Pop Cx
 Add Si,03d
 Add Di,016d
 Dec Cl
 Jnz @Show_Partition
 
 Add Si,(09*3d)
 Add Di,016d
 Dec Ch 
 Mov Cl,09d
 Jnz @Show_Partition
 Pop Dx
 Mov Si,Offset M_Pat+(03d*09d)
 Mov Di,Offset Screen+(160*20)+6
 Mov Al,Gs:[Pos_Vert] 
 Xor Ah,Ah
 Imul Ax,18*3
 Add Si,Ax
 Mov Cx,09+(256*016d)
 Dec Dl
 Push Dx
 Jnz @Show_Partition
 Pop Dx

 Mov Al,Gs:[Key_Table[29]]                     ;Ctrl(0):29 Alt(1):56
 Mov Bl,Gs:[Key_Table[56]]
 Test Al,Al
 Jnz @No_Ctrl
 Mov Word Ptr Gs:[PNibble_Pos],00h
 Xor Ah,Ah
 Mov Gs:[Tp],Ah
@No_Ctrl:
 Test Bl,Bl
 Jnz @No_Alt
 Mov Ah,1
 Mov Gs:[Tp],Ah
@No_Alt:

 Mov Si,Offset Screen+(76*2)+(3*160)
 Mov Al,Gs:[Pattern]           ; Pattern
 Mov Cl,016d
 Xor Bh,Bh
 Mov Bl,Gs:[Pattern]
@Loop_Pat_16:
 Push Bx
 Test Bl,Bl
 Jnz @No_Begin
 Mov Byte Ptr [Si+4],'*'
@No_Begin:

 Add Bx,Offset Pattern_table
 Mov Bl,Gs:[Bx]
 Mov Al,Bl
 Call Pos_Num
 Add Si,0160d
 Pop Bx
 Inc Bl
 Dec Cl
 Jnz @Loop_Pat_16

 Mov Di,Offset Screen+5*160-2
 Mov Cx,019d
 Xor Dx,Dx
 Xor Ah,Ah
 Mov Al,Gs:[Pattern]
 Div Cx
 Imul Ax,0160d
 Add Di,Ax
 Mov Byte Ptr [Di],0219d

 Mov Si,Offset Screen+(33*160)+(2*78)
 Mov Bl,Gs:[Pattern]
 Xor Bh,Bh
 Add Bx,Offset Pattern_Table
 Mov Bl,Gs:[Bx]
 Mov Al,Bl
 Call Pos_Num

 Mov Eax,Gs:[MH8]
 Sub Eax,Fs:[08d*04d]
 Jnz @No_Mod_Pattern_Suite
 Mov Bx,Offset Screen+2
 Mov Eax,00FFF0FFFh
 Mov Cl,Gs:[Track_Vert]

 Cmp Cl,016d
 Jl @No_LTv
 Mov Cl,015d
@No_LTv:
 Add Cl,03d
 Xor Ch,Ch
 Imul Cx,0160d
 Add Bx,Cx
 And Gs:[Bx],Eax
 And Gs:[Bx+(0160d*017d)],Eax
 Mov Cl,012
@Loop_Mask:
 And Gs:[Bx+4],Eax
 And Gs:[Bx+8],Eax
 And Gs:[Bx+12],Eax

 And Gs:[Bx+4+(0160d*017d)],Eax
 And Gs:[Bx+8+(0160d*017d)],Eax
 And Gs:[Bx+12+(0160d*017d)],Eax

 Add Bx,012d
 Dec Cl
 Jnz @Loop_Mask
@No_Mod_Pattern_Suite:

 Xor Ah,Ah
 Xor Ch,Ch
 Mov Al,Gs:[Track_Vert]
 Mov Bx,Offset Screen
 Mov Cl,Al
 Mov Bp,Offset Hex_Table
 And Al,0Fh
 Shr Cl,04d
 Mov Si,Bp
 Add Bp,Ax
 Add Si,Cx
 Mov Al,Gs:[Bp]
 Mov Ah,Gs:[Si]

 Mov Gs:[Bx+0160d*036d+(02d*075d)],Ah
 Mov Gs:[Bx+0160d*036d+(02d*076d)],Al

 Call Show
Ret
EndP

Even
Copy_InsM Proc Near
 Push Ds
 Pop Es
 Mov Si,Offset Ins_M
 Mov Di,Offset Screen
 Mov Cx,08000d/04d
 Rep Movsd
Ret
EndP

Check_F3 Proc Near
 Mov Al,Gs:[Key_Table[61]]     ; Instruments Name (Black,Turquoise)
 Test Al,Al
 Jnz @No_Edit_Ins
@Edit_Loop:
 Mov Al,Gs:[Key_Table[61]]
 Test Al,Al
 Jz @Edit_Loop
 Mov Di,Offset Screen+(051d*02d)+(03d*160d)
 Mov Al,011d
 Mov Dl,024d
@Loop_Ins_B:
 Mov [Di+1],Al
 Inc Di
 Inc Di
 Dec Dl
 Jnz @Loop_Ins_B

 Mov Di,Offset I_Name_Temp
 Mov Si,Offset Instruments_Table+012d
 Mov Al,Gs:[Instruments]
 Xor Ah,Ah
 Imul Ax,036d
 Add Si,Ax
 Push Gs
 Push Gs
 Pop Ds
 Pop Es
 Mov Cx,024d/04d
 Rep Movsd
 Mov Byte Ptr Song_N_Length,00h

Even
@Edit:
 Mov Di,Offset Screen+(051d*02d)+(03d*160d)
 Mov Al,011d
 Mov Si,Di
 Mov Dl,024d
@Loop_Ins_B2:
 Mov [Di+1],Al
 Inc Di
 Inc Di
 Dec Dl
 Jnz @Loop_Ins_B2
 Xor Ah,Ah
 Mov Al,Gs:[Song_N_Length]
 Cmp Al,024d
 Jnz @NoE
 Dec Al
@Noe:
 Add Ax,Ax
 Add Si,Ax
 Mov Byte Ptr Gs:[Si+1],010h

 Mov Al,Gs:[Key_Table[14]]     ; BackSpace
 Mov Bl,Gs:[Song_N_Length]
 Test Al,Al
 Jnz @No_BackI
 Mov Dl,Gs:[Key_Table2[14]]
 Test Dl,Dl
 Jz @No_BackI
 Xor Dl,Dl
 Mov Gs:[Key_Table2[14]],Dl
 Mov Di,Offset I_Name_Temp
 Xor Bh,Bh
 Add Di,Bx
 Mov Byte Ptr [Di],' '
 Dec Bl
 Jns @No_BackI
 Xor Bl,Bl
@No_BackI:
 Mov Gs:[Song_N_Length],Bl

 Mov Al,Gs:[Key_Table[75]]
 Mov Bl,Gs:[Song_N_Length]
 Test Al,Al
 Jnz @No_L
@A75:
 Mov Al,Gs:[Key_Table[75]]
 Test Al,Al
 Jz @A75
 Dec Bl
 Jns @No_L
 Inc Bl
@No_L:

 Mov Al,Gs:[Key_Table[77]]
 Test Al,Al
 Jnz @No_R
@A77:
 Mov Al,Gs:[Key_Table[77]]
 Test Al,Al
 Jz @A77
 Cmp Bl,023d
 Jz @No_R
 Inc Bl
@No_R:
 Mov Gs:[Song_N_Length],Bl

 Mov Cl,Text_I_L               ; Edit Name
 Xor Bh,Bh
 Mov Bp,Offset Key_Table
 Mov Si,Offset Text_I
 Mov Di,Offset I_Name_Temp
 Mov Bl,Gs:[Song_N_Length]
 Add Di,Bx
Even
@Loop_Input_I:
 Xor Bh,Bh
 Mov Bl,Gs:[Si]
 Add Bx,Bp
 Mov Al,Gs:[Bx]
 Test Al,Al
 Jnz @NI
 Mov Dl,Gs:[Bx+0128d]
 Test Dl,Dl
 Jz @NI
 Xor Dl,Dl
 Mov Gs:[Bx+0128d],Dl

 Mov Dl,Gs:[Song_N_Length]
 Cmp Dl,024d
 Jge @No_IncI
 Inc Dl
 Mov Gs:[Song_N_Length],Dl
@No_IncI:

 Mov Al,Gs:[Si+1]
 Mov [Di],Al
@NI:
 Inc Si
 Inc Si
 Dec Cl
 Jnz @Loop_Input_I

 Call Show
 Mov Si,Offset I_Name_Temp
 Mov Di,Offset Screen+(051d*02d)+(03d*160d)
 Mov Cl,(024d/04d)
 Mov Bp,08d
 Mov Bx,04d
@Loop_Ins_Text:
 Mov Eax,Gs:[Si]
 Mov Gs:[Di],Al
 Mov Gs:[Di+2],Ah
 Bswap Eax
 Mov Gs:[Di+4],Ah
 Mov Gs:[Di+6],Al
 Add Di,Bp
 Add Si,Bx
 Dec Cl
 Jnz @Loop_Ins_Text

 Mov Bl,Gs:[Key_Table[28]]
 Mov Al,Gs:[Key_Table[1]]
 Mov Bh,Bl
 And Al,Bl
 Jnz @Edit
@Edit2:
 Mov Al,Gs:[Key_Table[1]]
 Mov Bl,Gs:[Key_Table[28]]
 And Al,Bl
 Jz @Edit2

 Test Bh,Bh
 Jnz @No_Edit_Ins

 Mov Si,Offset I_Name_Temp
 Mov Di,Offset Instruments_Table+012d
 Mov Al,Gs:[Instruments]
 Xor Ah,Ah
 Imul Ax,036d
 Add Di,Ax
 Push Gs
 Push Gs
 Pop Ds
 Pop Es
 Mov Cx,024d/04d
 Rep Movsd

@No_Edit_Ins:
Ret
EndP

Even
Menu_Ins Proc Near 
 
@LI: 
 Mov Al,Gs:[Key_Table[1]]
 Test Al,Al
 Jz @The_End

 Call Copy_InsM
 Mov Di,Offset Screen+(04d*02d)+(03d*0160d)
 Mov Si,Offset Instruments_Table+012d
 Mov Dx,010d+(024d*0256d)
 Mov Al,Gs:[Instruments]
 Xor Ah,Ah
Even
@Loop_Show_Name_Instruments:
 Push Si
 Push Di
 Push Ax
 Xor Ah,Ah
 Imul Ax,036d
 Add Si,Ax
 Mov Cl,Dh
@Loop_H_Ni:
 Mov Al,Gs:[Si]
 Mov Gs:[Di],Al
 Inc Di
 Inc Si
 Inc Di 
 Dec Cl
 Jnz @Loop_H_Ni
 Pop Ax
 Pop Di
 Inc Al
 Pop Si
 Add Di,0160d
 Dec Dl
 Jnz @Loop_Show_Name_Instruments

 Mov Bx,Offset Screen+(0160d*04d)+(028d*02d)
 Mov Cl,04d
 Mov Al,'°'
@Ins_L1:
 Mov Byte Ptr Gs:[Bx],Al
 Mov Byte Ptr Gs:[Bx+160d],Al
 Add Bx,0320d
 Dec Cl
 Jnz @Ins_L1
 Mov Bl,Gs:[Instruments]
 Shr Bl,05
 Xor Bh,Bh
 Imul Bx,0160d
 Add Bx,Offset Screen+(0160d*04d)+(028d*02d)
 Mov Byte Ptr Gs:[Bx],'Û'
 Mov Si,Offset Screen+(0160d*03d)+(01d*02d)
 Mov Cl,010d
 Mov Bl,Gs:[Instruments]
@Ins_Loop_Num_Ins:
 Push Bx
 Mov Al,Bl
 Call Pos_Num
 Add Si,0160d
 Pop Bx
 Inc Bl
 Dec Cl
 Jnz @Ins_Loop_Num_Ins

 Mov Ah,Gs:[Key_Table[29]]                     ;Ctrl(0):29 Alt(1):56
 Mov Bh,Gs:[Key_Table[56]]
 And Ah,Bh
 Jnz @13
 Mov Dl,Gs:[Instruments]
 Mov Si,Offset Instruments_Table+06d
 Xor Dh,Dh
 Imul Dx,036d
 Add Si,Dx
 Test Bh,Bh 
 Jnz @NCtrl
 Sub Si,06d
@NCtrl:

 Mov Al,Gs:[Key_Table[42]]
 Mov Bl,Gs:[Key_Table[54]]
 And Al,Bl
 Jnz @No_S
 Mov Dl,Gs:[Si]
 Mov Eax,Dword Ptr Gs:[Key_Table[59]]
 Test Al,Al
 Jnz @NRAA
 Xor Dl,010000b
@KCA59:
 Mov Al,Gs:[Key_Table[59]]
 Test Al,Al
 Jz @KCA59
@NRAA:
 Test Ah,Ah
 Jnz @NRAA2
 Xor Dl,0100000b
@KCA60:
 Mov Ah,Gs:[Key_Table[60]]
 Test Ah,Ah
 Jz @KCA60
@NRAA2:
 Bswap Eax
 Test Ah,Ah
 Jnz @NRAA3
 Xor Dl,01000000b
@KCA61:
 Mov Ah,Gs:[Key_Table[61]]
 Test Ah,Ah
 Jz @KCA61
@NRAA3:
 Test Al,Al
 Jnz @NRAA4
 Xor Dl,010000000b
@KCA62:
 Mov Al,Gs:[Key_Table[62]]
 Test Al,Al
 Jz @KCA62
@NRAA4:
 Mov Gs:[Si],Dl
 Jmp @CA13
@No_S:

 Mov Dl,Gs:[Si]
 Mov Dh,Dl
 And Dx,0000011111111000b
 Mov Al,Gs:[Key_Table[68]]
 Test Al,Al
 Jnz @NCAF10
@AF10:
 Mov Al,Gs:[Key_Table[68]]
 Test Al,Al
 Jz @AF10
 Inc Dh
 And Dh,00000111b
 Or Dl,Dh
 Mov Gs:[Si],Dl
@NCAF10:

 Mov Ah,Gs:[Key_Table[65]]
 Test Ah,Ah
 Jnz @NCAF07
@AF07: 
 Mov Ah,Gs:[Key_Table[65]]
 Test Ah,Ah
 Jz @AF07
 Mov Al,Gs:[Si+1]
 Mov Ah,Al
 And Al,00111111b
 Shr Ah,06d
 Inc Ah
 Shl Ah,06d
 Or Al,Ah
 Mov Gs:[Si+1],Al
@NCAF07:

 Mov Ah,Gs:[Key_Table[59]]
 Test Ah,Ah
 Jnz @NCAF01
@AF01: 
 Mov Ah,Gs:[Key_Table[59]]
 Test Ah,Ah
 Jz @AF01
 Mov Al,Gs:[Si+2]
 Mov Ah,Al
 Shr Ah,04d
 And Al,0Fh
 Inc Ah
 Shl Ah,04d
 Or Al,Ah
 Mov Gs:[Si+2],Al
@NCAF01:

 Mov Ah,Gs:[Key_Table[60]]
 Test Ah,Ah
 Jnz @NCAF02
@AF02: 
 Mov Ah,Gs:[Key_Table[60]]
 Test Ah,Ah
 Jz @AF02
 Mov Al,Gs:[Si+2]
 Mov Ah,Al
 And Ah,0F0h
 Inc Al
 And Al,0Fh
 Or Al,Ah
 Mov Gs:[Si+2],Al
@NCAF02:

 Mov Ah,Gs:[Key_Table[61]]
 Test Ah,Ah
 Jnz @NCAF03
@AF03: 
 Mov Ah,Gs:[Key_Table[61]]
 Test Ah,Ah
 Jz @AF03
 Mov Al,Gs:[Si+3]
 Mov Ah,Al
 Shr Ah,04d
 And Al,0Fh
 Inc Ah
 Shl Ah,04d
 Or Al,Ah
 Mov Gs:[Si+3],Al
@NCAF03:

 Mov Ah,Gs:[Key_Table[62]]
 Test Ah,Ah
 Jnz @NCAF04
@AF04: 
 Mov Ah,Gs:[Key_Table[62]]
 Test Ah,Ah
 Jz @AF04
 Mov Al,Gs:[Si+3]
 Mov Ah,Al
 And Ah,0F0h
 Inc Al
 And Al,0Fh
 Or Al,Ah
 Mov Gs:[Si+3],Al
@NCAF04:

;---------------------------------------------------------------------------
;Facteur d'Attenuation                              0..5
 Mov Ah,Gs:[Key_Table[64]]
 Test Ah,Ah
 Jnz @NCAF014
@AF014: 
 Mov Ah,Gs:[Key_Table[64]]
 Test Ah,Ah
 Jz @AF014
 Mov Al,Gs:[Si+1]
 Mov Ah,Al
 And Ah,11000000b
 Inc Al
 And Al,00111111b
 Or Al,Ah
 Mov Gs:[Si+1],Al
@NCAF014:

;WaveForm                                           0..1
 Mov Ah,Gs:[Key_Table[63]]
 Test Ah,Ah
 Jnz @NCAF05
@AF05: 
 Mov Ah,Gs:[Key_Table[63]]
 Test Ah,Ah
 Jz @AF05
 Mov Al,Gs:[Si+4]
 Inc Al
 And Al,07h
 Mov Gs:[Si+4],Al
@NCAF05:

 Mov Ah,Gs:[Key_Table[65]]
 Test Ah,Ah
 Jnz @NCAF08
@AF08: 
 Mov Ah,Gs:[Key_Table[65]]
 Test Ah,Ah
 Jz @AF08
 Mov Al,Gs:[Si+5]
 Xor Al,01d
 Mov Gs:[Si+5],Al
@NCAF08:

 Mov Ah,Gs:[Key_Table[66]]
 Test Ah,Ah
 Jnz @NCAF09
@AF09: 
 Mov Ah,Gs:[Key_Table[66]]
 Test Ah,Ah
 Jz @AF09
 Mov Al,Gs:[Si+5]
 Mov Ah,Al
 And Ah,01d
 Shr Al,01d
 Inc Al
 And Al,07
 Add Al,Al
 Or Al,Ah
 Mov Gs:[Si+5],Al
@NCAF09:

 Mov Ah,Gs:[Key_Table[67]]
 Test Ah,Ah
 Jnz @NCAF091
@AF091: 
 Mov Ah,Gs:[Key_Table[67]]
 Test Ah,Ah
 Jz @AF091
 Mov Al,Gs:[Si+5]
 Xor Al,01d
 Mov Gs:[Si+5],Al
@NCAF091:

 Jmp @CA13
@13:
 Mov Bl,Gs:[Instruments]                       ; Instruments
 Mov Ax,Word Ptr Gs:[Key_Table[59]]
 Xor Ax,0101h
 Sub Bl,Al
 Add Bl,Ah
@Ins_Loop_59:
 Mov Ax,Word Ptr Gs:[Key_Table[59]]
 Test Al,Al
 Jz @Ins_Loop_59
 Test Ah,Ah
 Jz @Ins_Loop_59
 Mov Gs:[Instruments],Bl
@CA13:

;                                                   Bits
;---------------------------------------------------------------------------
;Facteur de Multiplication                          0..3
;Reduction des aigus Activee                        4
;Type de l'enveloppe (0:Decroissante,1:Contine)     5
;Vibrator                                           6
;Tremolo                                            7
 DMC Equ 080d 
 
 Mov Dl,Gs:[Instruments]
 Mov Si,Offset Instruments_Table
 Xor Dh,Dh
 Imul Dx,036d
 Add Si,Dx
 Add Si,06d
 Mov Cl,02
 Xor Ch,Ch
Even
@Loop_MC:
 Push Cx
 Mov Bl,Gs:[Si]
 Mov Ah,Bl
 And Bl,07d
 Add Bl,'0'
 Mov Di,Offset Screen+(0160d*040d)+(025d*02d)
 Test Ch,Ch
 Jz @No_Car1
 Add Di,DMC
@No_Car1:
Mov [Di],Bl

 Shr Ah,04d
 And Ah,01d
 Mov Di,Offset Screen+(0160d*044d)+(028d*02d)
 Test Ch,Ch
 Jz @No_Car2
 Add Di,DMC
@No_Car2:
 
 Mov Bx,Offset Switch
 Shl Ah,02
 Xor Al,Al
 Xchg Al,Ah
 Add Bx,Ax
 Mov Eax,Gs:[Bx]
 Mov Gs:[Di],Al
 Mov Gs:[Di+2],Ah
 Bswap Eax
 Mov Gs:[Di+4],Ah
 Mov Gs:[Di+6],Al

 Mov Ah,Gs:[Si]
 Shr Ah,05d
 And Ah,01d
 Add Di,0160d
 Mov Bx,Offset Switch
 Shl Ah,02
 Xor Al,Al
 Xchg Al,Ah
 Add Bx,Ax
 Mov Eax,Gs:[Bx]
 Mov Gs:[Di],Al
 Mov Gs:[Di+2],Ah
 Bswap Eax
 Mov Gs:[Di+4],Ah
 Mov Gs:[Di+6],Al

 Mov Ah,Gs:[Si]
 Shr Ah,06d
 And Ah,01d
 Add Di,0160d
 Mov Bx,Offset Switch
 Shl Ah,02
 Xor Al,Al
 Xchg Al,Ah
 Add Bx,Ax
 Mov Eax,Gs:[Bx]
 Mov Gs:[Di],Al
 Mov Gs:[Di+2],Ah
 Bswap Eax
 Mov Gs:[Di+4],Ah
 Mov Gs:[Di+6],Al

 Mov Ah,Gs:[Si]
 Shr Ah,07d
 And Ah,01d
 Add Di,0160d
 Mov Bx,Offset Switch
 Shl Ah,02
 Xor Al,Al
 Xchg Al,Ah
 Add Bx,Ax
 Mov Eax,Gs:[Bx]
 Mov Gs:[Di],Al
 Mov Gs:[Di+2],Ah
 Bswap Eax
 Mov Gs:[Di+4],Ah
 Mov Gs:[Di+6],Al
 Inc Si
;---------------------------------------------------------------------------
;Facteur d'Attenuation                              0..5
;Attenuation des aigus par Octave                   6..7
 Push Si
 Mov Al,Gs:[Si]
 Mov Si,Offset Screen+(0160d*030d)+(021d*02d)
 Test Ch,Ch
 Jz @No_Car3
 Add Si,DMC
@No_Car3:
 
 Mov Dl,Al
 And Al,00111111b
 Shr Dl,06
 Xor Dh,Dh
 Mov Bl,Al
 Call Pos_Num
 Add Dl,'0'
 Mov Gs:[Si+0320d],Dl
 Pop Si
 Inc Si
;---------------------------------------------------------------------------
;Decay de l'Enveloppe                               0..3
;Attack de l'Enveloppe                              4..8
 Mov Al,Gs:[Si]
 Mov Dl,Al
 And Al,0Fh
 Shr Dl,04d
 Xor Ah,Ah
 Xor Dh,Dh
 Mov Di,Offset Screen+(018d*0160d)+(019d*02d)
 Test Ch,Ch
 Jz @No_Car4
 Add Di,DMC
@No_Car4:
 
 Mov Bp,Offset Hex_Table
 Mov Bx,Bp
 Add Bp,Ax   
 Add Bx,Dx
 Mov Al,Gs:[Bx]
 Mov Dl,Gs:[Bp]
 Mov Gs:[Di],Al
 Mov Gs:[Di+0320d],Dl
 Inc Si
;---------------------------------------------------------------------------
;Release de l'Enveloppe                             0..3
;Sustain de l'Enveloppe                             4..8
 Mov Al,Gs:[Si]
 Mov Dl,Al
 And Al,0Fh
 Shr Dl,04d
 Xor Ah,Ah
 Xor Dh,Dh
 Mov Di,Offset Screen+(022d*0160d)+(019d*02d)
 Test Ch,Ch
 Jz @No_Car6
 Add Di,DMC
@No_Car6:
 
 Mov Bp,Offset Hex_Table
 Mov Bx,Bp
 Add Bp,Ax   
 Add Bx,Dx
 Mov Al,Gs:[Bx]
 Mov Dl,Gs:[Bp]
 Mov Gs:[Di],Al        ; Release
 Mov Gs:[Di+0320d],Dl  ; Sustain
 Inc Si
;---------------------------------------------------------------------------
;WaveForm                                           0..1
 Mov Al,Gs:[Si]
 Add Al,'0'
 Inc Si
 Mov Gs:[Di+(06d*0160d)],Al
;---------------------------------------------------------------------------
;Liaison des Cellules d'oScillateur (0:MC,1:Add)    0
;FeedBack                                           1..3
 Mov Al,Gs:[Si]
 Mov Dl,Al
 And Al,01d
 Shr Dl,01d
 Shl Al,02d
 Mov Di,Offset Screen+(0160d*036d)+(02d*028d)
 Test Ch,Ch
 Jz @No_Car8
 Add Di,DMC
@No_Car8:
 
 Mov Bx,Offset Switch
 Add Bx,Ax
 Mov Eax,Gs:[Bx]
 Mov Gs:[Di],Al
 Mov Gs:[Di+2],Ah
 Bswap Eax
 Mov Gs:[Di+4],Ah
 Mov Gs:[Di+6],Al
 Add Dl,'0'
 Mov Gs:[Di-(0320d+(07d*2))],Dl
 Inc Si
;---------------------------------------------------------------------------
 Pop Cx
 Inc Ch
 Sub Si,012d
 Dec Cl
 Jnz @Loop_Mc
 Call Check_F3
 Call Show

 Mov Ah,Gs:[Key_Table[29]]                     ;Ctrl(0):29 Alt(1):56
 Mov Bh,Gs:[Key_Table[56]]
 And Ah,Bh
 Jz @LI

 Mov Al,Gs:[Key_Table[62]]
 Test Al,Al
 Jnz @LI

Ret
EndP

Even
Output_Fm Proc Near
 Push Dx
 Push Cx
 Mov Dx,0388h
 Out Dx,Al
 Mov Cx,08d+(032d*256)
Even
@Loop_Wait1:
 In Al,Dx
 Dec Cl
 Jnz @Loop_Wait1
 Inc Dx
 Mov Al,Ah
 Out Dx,Al
@Loop_Wait2:
 In Al,Dx
 Dec Ch
 Jnz @Loop_Wait2
 Pop Cx
 Pop Dx
Ret
EndP

Even
Output_Fm2 Proc Near
 Push Dx
 Push Cx
 Mov Dx,038Ah
 Out Dx,Al
 Mov Cx,08d+(032d*256)
 Jmp @Loop_Wait1
EndP

Reset Proc Near
 Mov Cx,0256d
Even
@Loop_Reset:
 Xor Ah,Ah
 Mov Al,Cl
 Call Output_Fm
;--
 Xor Ah,Ah
 Mov Al,Cl
 Call Output_Fm2
 Dec Cx
 Jnz @Loop_Reset
Ret
EndP

Even
Pattern_Music Proc Near
 Mov Di,Offset Channel
 Mov Bp,Offset M_Pat
 Mov Ax,Gs:[Play_Pattern_Pos]
 And Ax,063d
 Imul Ax,Pattern_Line
 Add Bp,Ax

 Mov Dl,09d
Even
@Loop_Nine:
 Push Dx
 Push Di

 Mov Al,Gs:[Bp]
 Inc Al
 Jz @No_Play

;- Effectue un Cut
 Mov Ax,0A0h           ; Stop Channel
 Neg Dl
 Add Dl,09h
 Add Al,Dl
 Call Output_Fm

 Mov Ax,0B0h           ; Empeche la Montee
 Add Al,Dl
 Call Output_Fm

 Mov Cl,02d
 Mov Si,Offset Instruments_Table
 Mov Al,Gs:[Bp+1]      ; Instruments
 Xor Ah,Ah
 Imul Ax,036d
 Add Si,Ax
Even
@Loop_Mod_Car:
 Push Cx

 Mov Al,020h           ; Facteur de Mult
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]
 Call Output_Fm
 Inc Si

 Mov Al,040h           ; Volume
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Bp+2]      
 Xor Ah,0FFh
 Call Output_Fm
 Inc Si

 Mov Al,060h           ; Attack/Decay
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]     
 Call Output_Fm
 Inc Si

 Mov Al,080h           ; Sustain/Release
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]     
 Call Output_Fm
 Inc Si

 Mov Al,0E0h
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]
 Call OutPut_Fm
 Inc Si

 Mov Al,0C0h
 Add Al,Gs:[Di+018d]
 Mov Ah,Gs:[Si]
 Or Ah,00010000b     
 Call OutPut_Fm
 Inc Si
 Add Di,09d            ; Passe Au Carrier
 Pop Cx
 Dec Cl
 Jnz @Loop_Mod_Car

 Sub Di,018d

 Mov Si,Offset N_Val
 Mov Al,Gs:[Bp]        ; Notes, Octave
 Mov Ah,Al
 And Al,0Fh
 Shr Ah,04d
 Xor Ch,Ch
 Mov Cl,Al
 Add Cx,Cx
 Add Si,Cx
 Mov Dx,Gs:[Si]
 Shl Ah,02d
 Or Dh,Ah
 Or Dh,032d            ; Active le Son

 Mov Al,0A0h
 Add Al,Gs:[Di+018d]
 Mov Ah,Dl
 Call Output_Fm

 Mov Al,0B0h
 Add Al,Gs:[Di+018d]
 Mov Ah,Dh
 Call Output_Fm
@No_Play:

 Pop Di
 Pop Dx
 Add Bp,03d
 Inc Di
 Dec Dl
 Jnz @Loop_Nine
;=-
 Mov Di,Offset Channel
 Mov Bp,Offset M_Pat+(09d*03d)
 Mov Ax,Gs:[Play_Pattern_Pos]
 And Ax,063d
 Imul Ax,Pattern_Line
 Add Bp,Ax

 Mov Dl,09d
Even
@Loop_Nine2:
 Push Dx
 Push Di

 Mov Al,Gs:[Bp]
 Inc Al
 Jz @No_Play2

;- Effectue un Cut
 Mov Ax,0A0h           ; Stop Channel
 Neg Dl
 Add Dl,09h
 Add Al,Dl
 Call Output_Fm2

 Mov Ax,0B0h           ; Empeche la Montee
 Add Al,Dl
 Call Output_Fm2

 Mov Ax,0B0h           ; Empeche la Montee
 Add Al,Dl
 Call Output_Fm2

 Mov Cl,02d
 Mov Si,Offset Instruments_Table
 Mov Al,Gs:[Bp+1]      ; Instruments
 Xor Ah,Ah
 Imul Ax,036d
 Add Si,Ax
Even
@Loop_Mod_Car2:
 Push Cx

 Mov Al,020h           ; Facteur de Mult
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]
 Call Output_Fm2
 Inc Si

 Mov Al,040h           ; Volume
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Bp+2]      
 Xor Ah,0FFh
 Call Output_Fm2
 Inc Si

 Mov Al,060h           ; Attack/Decay
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]     
 Call Output_Fm2
 Inc Si

 Mov Al,080h           ; Sustain/Release
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]     
 Call Output_Fm2
 Inc Si

 Mov Al,0E0h
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]
 Call OutPut_Fm2
 Inc Si

 Mov Al,0C0h
 Add Al,Gs:[Di+018d]
 Mov Ah,Gs:[Si]
 Or Ah,00100000b     
 Call OutPut_Fm2
 Inc Si
 Add Di,09d            ; Passe Au Carrier
 Pop Cx
 Dec Cl
 Jnz @Loop_Mod_Car2
 Sub Di,018d

 Mov Si,Offset N_Val
 Mov Al,Gs:[Bp]        ; Notes, Octave
 Mov Ah,Al
 And Al,0Fh
 Shr Ah,04d
 Xor Ch,Ch
 Mov Cl,Al
 Add Cx,Cx
 Add Si,Cx
 Mov Dx,Gs:[Si]
 Shl Ah,02d
 Or Dh,Ah
 Or Dh,032d            ; Active le Son

 Mov Al,0A0h
 Add Al,Gs:[Di+018d]
 Mov Ah,Dl
 Call Output_Fm2

 Mov Al,0B0h
 Add Al,Gs:[Di+018d]
 Mov Ah,Dh
 Call Output_Fm2

@No_Play2:
 Pop Di
 Pop Dx
 Add Bp,03d
 Inc Di
 Dec Dl
 Jnz @Loop_Nine2
;=-

Ret
EndP

Stop_Music Proc Near
 Mov Bx,00B0h
 Mov Bp,00A0h
 Mov Cl,09d
Even
@Loop_Disabled_Sound:
 Mov Ax,Bp
 Call Output_Fm
 Mov Ax,Bx
 Call Output_Fm
 Mov Ax,Bp
 Call Output_Fm2
 Mov Ax,Bx
 Call Output_Fm2
 Inc Bx
 Inc Bp
 Dec Cl
 Jnz @Loop_Disabled_Sound
Ret
EndP

Even
Play_Music Proc Near
 Mov Bx,Offset Pattern_Table
 Mov Di,Offset Channel

 Mov Al,Gs:[Bx]
 Inc Al
 Jnz @No_Stop
 Mov Dword Ptr Gs:[Music_Pos],00h
 Ret
@No_Stop:

 Mov Eax,Gs:[Music_Pos]
 Mov Ebp,Gs:[Xms_01.Xms_Ptr]
 Mov Ecx,Eax
 Shr Ecx,06d
 And Eax,063d
 Imul Eax,Pattern_Line
 Add Bx,Cx
 Xor Ecx,Ecx
 Mov Cl,Gs:[Bx]
 Inc Cl
 Jnz @No_Loop_Music
 Mov Dword Ptr Gs:[Music_Pos],00h
 Jmp @Loop_Music
@No_Loop_Music:
 Dec Cl
 Imul Ecx,((018d*03d)*064d)    ; Longeur d'un Pattern
 Add Ecx,Eax
 Add Ebp,Ecx

@Loop_Music:

 Push Ebp
 Mov Dl,09d
Even
@Music_Loop_Nine:
 Push Dx
 Push Di

 Mov Al,Fs:[Ebp]
 Inc Al
 Jz @Music_No_Play

;- Effectue un Cut
 Mov Ax,0A0h           ; Stop Channel
 Neg Dl
 Add Dl,09h
 Add Al,Dl
 Call Output_Fm

 Mov Ax,0B0h           ; Empeche la Montee
 Add Al,Dl
 Call Output_Fm

 Mov Cl,02d
 Mov Si,Offset Instruments_Table
 Mov Al,Fs:[Ebp+1]      ; Instruments
 Xor Ah,Ah
 Imul Ax,036d
 Add Si,Ax
Even
@Music_Loop_Mod_Car:
 Push Cx

 Mov Al,020h           ; Facteur de Mult
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]
 Call Output_Fm
 Inc Si

 Mov Al,040h           ; Volume
 Add Al,Gs:[Di]
 Mov Ah,Fs:[Ebp+2]      
 Xor Ah,0FFh
 Call Output_Fm
 Inc Si

 Mov Al,060h           ; Attack/Decay
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]     
 Call Output_Fm
 Inc Si

 Mov Al,080h           ; Sustain/Release
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]     
 Call Output_Fm
 Inc Si

 Mov Al,0E0h
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]
 Call OutPut_Fm
 Inc Si

 Mov Al,0C0h
 Add Al,Gs:[Di+018d]
 Mov Ah,Gs:[Si]
 Or Ah,00010000b
 Call OutPut_Fm
 Inc Si
 Add Di,09d            ; Passe Au Carrier
 Pop Cx
 Dec Cl
 Jnz @Music_Loop_Mod_Car

 Sub Di,018d

 Mov Si,Offset N_Val
 Mov Al,Fs:[Ebp]        ; Notes, Octave
 Mov Ah,Al
 And Al,0Fh
 Shr Ah,04d
 Xor Ch,Ch
 Mov Cl,Al
 Add Cx,Cx
 Add Si,Cx
 Mov Dx,Gs:[Si]
 Shl Ah,02d
 Or Dh,Ah
 Or Dh,032d            ; Active le Son

 Mov Al,0A0h
 Add Al,Gs:[Di+018d]
 Mov Ah,Dl
 Call Output_Fm

 Mov Al,0B0h
 Add Al,Gs:[Di+018d]
 Mov Ah,Dh
 Call Output_Fm
@Music_No_Play:

 Pop Di
 Pop Dx
 Add Ebp,03d
 Inc Di
 Dec Dl
 Jnz @Music_Loop_Nine
;=-

 Pop Ebp
 Mov Di,Offset Channel
 Add Ebp,09d*03d

 Mov Dl,09d
Even
@Music_Loop_Nine2:
 Push Dx
 Push Di

 Mov Al,Fs:[Ebp]
 Inc Al
 Jz @Music_No_Play2

;- Effectue un Cut
 Mov Ax,0A0h           ; Stop Channel
 Neg Dl
 Add Dl,09h
 Add Al,Dl
 Call Output_Fm2

 Mov Ax,0B0h           ; Empeche la Montee
 Add Al,Dl
 Call Output_Fm2

 Mov Cl,02d
 Mov Si,Offset Instruments_Table
 Mov Al,Fs:[Ebp+1]      ; Instruments
 Xor Ah,Ah
 Imul Ax,036d
 Add Si,Ax
Even
@Music_Loop_Mod_Car2:
 Push Cx

 Mov Al,020h           ; Facteur de Mult
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]
 Call Output_Fm2
 Inc Si

 Mov Al,040h           ; Volume
 Add Al,Gs:[Di]
 Mov Ah,Fs:[Ebp+2]      
 Xor Ah,0FFh
 Call Output_Fm2
 Inc Si

 Mov Al,060h           ; Attack/Decay
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]     
 Call Output_Fm2
 Inc Si

 Mov Al,080h           ; Sustain/Release
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]     
 Call Output_Fm2
 Inc Si

 Mov Al,0E0h
 Add Al,Gs:[Di]
 Mov Ah,Gs:[Si]
 Call OutPut_Fm2
 Inc Si

 Mov Al,0C0h
 Add Al,Gs:[Di+018d]
 Mov Ah,Gs:[Si]
 Or Ah,00100000b     
 Call OutPut_Fm2
 Inc Si
 Add Di,09d            ; Passe Au Carrier
 Pop Cx
 Dec Cl
 Jnz @Music_Loop_Mod_Car2
 Sub Di,018d

 Mov Si,Offset N_Val
 Mov Al,Fs:[Ebp]        ; Notes, Octave
 Mov Ah,Al
 And Al,0Fh
 Shr Ah,04d
 Xor Ch,Ch
 Mov Cl,Al
 Add Cx,Cx
 Add Si,Cx
 Mov Dx,Gs:[Si]
 Shl Ah,02d
 Or Dh,Ah
 Or Dh,032d            ; Active le Son

 Mov Al,0A0h
 Add Al,Gs:[Di+018d]
 Mov Ah,Dl
 Call Output_Fm2

 Mov Al,0B0h
 Add Al,Gs:[Di+018d]
 Mov Ah,Dh
 Call Output_Fm2

@Music_No_Play2:
 Pop Di
 Pop Dx
 Add Ebp,03d
 Inc Di
 Dec Dl
 Jnz @Music_Loop_Nine2
;=-

Ret
EndP

Even
Copy_Pattern_2_Music Proc Near
 Push Es
 Push Gs
 Xor Esi,Esi
 Pop Ds
 Mov Es,Si
 Mov Si,Offset M_Pat

 Xor Ch,Ch
 Mov Cl,Gs:[Pattern]
 Mov Bx,Offset Pattern_Table
 Mov Edi,Gs:[Xms_01.Xms_Ptr]
 Add Bx,Cx
 Xor Ecx,Ecx
 Mov Cl,Gs:[Bx]
 Imul Ecx,((018d*03d)*064d)    ; Longueur d'un Pattern
 Add Edi,Ecx

 Mov Ecx,(018d*03d*064d)/04d
 Rep Movs Dword Ptr Es:[Edi],Ds:[Esi]
 Pop Es

Ret
EndP

Even
Copy_Music_2_Pattern Proc Near
 Push Ds
 Push Gs
 Xor Edi,Edi
 Pop Es
 Mov Ds,Di
 Mov Di,Offset M_Pat

 Xor Ch,Ch
 Mov Cl,Gs:[Pattern]

 Mov Bx,Offset Pattern_Table
 Mov Esi,Gs:[Xms_01.Xms_Ptr]
 Add Bx,Cx
 Xor Ecx,Ecx
 Mov Cl,Gs:[Bx]
 Imul Ecx,((018d*03d)*064d)    ; Longueur d'un Pattern
 Add Esi,Ecx

 Mov Ecx,(018d*03d*064d)/04d
 Rep Movs Dword Ptr Es:[Edi],Ds:[Esi]
 Pop Ds

Ret
EndP

Even
Edit_File_Name Proc Near
 Mov Di,Offset Screen+(036d*02d)+(025d*160d)
 Mov Al,011d
 Mov Dl,08d
@Loop_Ins_B_Filename:
 Mov [Di+1],Al
 Inc Di
 Inc Di
 Dec Dl
 Jnz @Loop_Ins_B_Filename

 Push Gs
 Pop Ds
 Mov Di,Offset I_Name_Temp
 Xor Eax,Eax
 Mov Ecx,032d/04d
 Rep Stosd
 Mov Byte Ptr Song_N_Length,00h

 Push Gs
 Push Gs
 Pop Ds
 Pop Es
 Mov Si,Offset Ls
 Mov Di,Offset Screen+((050d-08d)/02d*160d)+(080d-014d)
 Mov Dl,Ls_Line

 Mov Ax,Ls_Line*028d
 Mov Cl,Gs:[Ls_Choice]
 Xor Ch,Ch
 Imul Ax,Cx
 Add Si,Ax
@Loop_Ls:
 Mov Cx,028d
 Rep Movsb
 Add Di,160d-028d
 Dec Dl
 Jnz @Loop_Ls

Even
@Edit_Filename:

 Mov Di,Offset Screen+(036d*02d)+(025d*160d)
 Mov Al,011d
 Mov Si,Di
 Mov Dl,08d
@Loop_Ins_B2_Filename:
 Mov [Di+1],Al
 Inc Di
 Inc Di
 Dec Dl
 Jnz @Loop_Ins_B2_Filename
 Xor Ah,Ah
 Mov Al,Gs:[Song_N_Length]
 Cmp Al,08d
 Jnz @NoE_Filename
 Dec Al
@Noe_Filename:
 Add Ax,Ax
 Add Si,Ax
 Mov Byte Ptr Gs:[Si+1],010h

 Mov Al,Gs:[Key_Table[14]]     ; BackSpace
 Mov Bl,Gs:[Song_N_Length]
 Test Al,Al
 Jnz @No_BackI_Filename
 Mov Dl,Gs:[Key_Table2[14]]
 Test Dl,Dl
 Jz @No_BackI_Filename
 Xor Dl,Dl
 Mov Gs:[Key_Table2[14]],Dl
 Mov Di,Offset I_Name_Temp
 Xor Bh,Bh
 Add Di,Bx
 Mov Byte Ptr [Di],00h
 Dec Bl
 Jns @No_BackI_Filename
 Xor Bl,Bl
@No_BackI_Filename:
 Mov Gs:[Song_N_Length],Bl

 Mov Al,Gs:[Key_Table[75]]
 Mov Bl,Gs:[Song_N_Length]
 Test Al,Al
 Jnz @No_L_Filename
@A75_Filename:
 Mov Al,Gs:[Key_Table[75]]
 Test Al,Al
 Jz @A75_Filename
 Dec Bl
 Jns @No_L_Filename
 Inc Bl
@No_L_Filename:

 Mov Al,Gs:[Key_Table[77]]
 Test Al,Al
 Jnz @No_R_Filename
@A77_Filename:
 Mov Al,Gs:[Key_Table[77]]
 Test Al,Al
 Jz @A77_Filename
 Cmp Bl,023d
 Jz @No_R_Filename
 Inc Bl
@No_R_Filename:
 Mov Gs:[Song_N_Length],Bl

 Mov Cl,Text_I_L               ; Edit Name
 Xor Bh,Bh
 Mov Bp,Offset Key_Table
 Mov Si,Offset Text_I
 Mov Di,Offset I_Name_Temp
 Mov Bl,Gs:[Song_N_Length]
 Add Di,Bx
Even
@Loop_Input_I_Filename:
 Xor Bh,Bh
 Mov Bl,Gs:[Si]
 Add Bx,Bp
 Mov Al,Gs:[Bx]
 Test Al,Al
 Jnz @NI_Filename
 Mov Dl,Gs:[Bx+0128d]
 Test Dl,Dl
 Jz @NI_Filename
 Xor Dl,Dl
 Mov Gs:[Bx+0128d],Dl

 Mov Dl,Gs:[Song_N_Length]
 Cmp Dl,07d
 Jge @No_IncI_Filename
 Inc Dl
 Mov Gs:[Song_N_Length],Dl
@No_IncI_Filename:

 Mov Al,Gs:[Si+1]
 Mov [Di],Al
@NI_Filename:
 Inc Si
 Inc Si
 Dec Cl
 Jnz @Loop_Input_I_Filename

 Call Show
 Mov Si,Offset I_Name_Temp
 Mov Di,Offset Screen+(036d*02d)+(025d*160d)
 Mov Cl,(08d/04d)
 Mov Bp,08d
 Mov Bx,04d
@Loop_Ins_Text_Filename:
 Mov Eax,Gs:[Si]
 Mov Gs:[Di],Al
 Mov Gs:[Di+2],Ah
 Bswap Eax
 Mov Gs:[Di+4],Ah
 Mov Gs:[Di+6],Al
 Add Di,Bp
 Add Si,Bx
 Dec Cl
 Jnz @Loop_Ins_Text_Filename

 Mov Bl,Gs:[Key_Table[28]]
 Mov Al,Gs:[Key_Table[1]]
 Mov Bh,Bl
 And Al,Bl
 Jnz @Edit_Filename
@Edit2_Filename:
 Mov Al,Gs:[Key_Table[1]]
 Mov Bl,Gs:[Key_Table[28]]
 And Al,Bl
 Jz @Edit2_Filename           ; Si Bh = 0 , Utiliser La Fonction

Ret
EndP

Clear_Counter Proc Near
 Mov Di,Offset Pattern_Counter
 Push Gs
 Pop Es
 Xor Eax,Eax
 Mov Ecx,(0256d/04d)
 Rep Stosd
Ret
EndP

Get_Counter Proc Near
 Call Clear_Counter 
 Mov Bp,Offset Pattern_Counter
 Mov Di,Offset Pattern_Table
 Mov Cx,0256d
 Mov Al,01d
@Loop_Counter:
 Xor Bh,Bh
 Mov Bl,Gs:[Di]
 Add Bx,Bp
 Or Gs:[Bx],Al
 Inc Di
 Dec Cx
 Jnz @Loop_Counter

 Mov Cl,0255d
 Xor Ax,Ax
@Loop_Counter2:
 Add Al,Gs:[Bp]
 Inc Bp
 Dec Cl
 Jnz @Loop_Counter2
 Mov Gs:[Nbr_Pattern],Al
Ret
EndP


;-=([    S t a r t   ])=-

Even
Start Proc Near
 Mov Ax,Data                   ; Ds = Adresse debut des donnees
 Mov Ds,Ax
 Mov Ax,03h                    ; 80*25 Mode Texte
 Int 10h
 Push Ss
 Push Sp

 Call Check_Xms
 ;[DosBox] Call Get_Free_Xms
 ;[DosBox] Call Check_Flat_Mode
 ;[DosBox] Call Install_Flat_Mode
 Mov Ax,Data                   ; Ds = Adresse debut des donnees
 Mov Gs,Ax
 Mov Es,Ax
 Mov Ds,Ax
 Call Get_Mem_Xms

 Sub Bl,Bl                     ; 080d*050d 
 Mov Ax,01112h
 Int 10h
 Mov Ax,0100h
 Xor Cx,Cx
 Dec Cx
 Int 10h
 Call Install_New_Handler

 Mov Si,Offset Fm_Main+(0160d*038d)+(01d*02d)+1  ; Black_Instrument
 Mov Di,Offset Ins_M+(160*03)+3
 Mov Cl,026d
 Mov Ah,0Fh
@Loop_Black:
 And [Si],Ah
 And [Si+2],Ah
 And [Di],Ah
 And [Di+2],Ah
 Inc Si
 Inc Di
 Inc Si
 Inc Di
 Dec Cl
 Jnz @Loop_Black

 Call Reset
 Mov Ax,0FF02h
 Call Output_Fm
 Mov Ax,08004h
 Call Output_Fm
 Mov Ax,00104h
 Call Output_Fm
 Mov Ax,0BDh           ; Neuf Canaux Independant
 Call Output_Fm
 Mov Ax,0105h          ; Application Stereo
 Call Output_Fm2

 Push Es
 Xor Eax,Eax
 Mov Ecx,(0900d*1024d)/04d
 Mov Edi,Gs:[Xms_01.Xms_Ptr]
 Mov Es,Ax
 Dec Eax
 Rep Stos Dword Ptr Es:[Edi]
 Pop Es

Even
@Loop_Main:

 Mov Eax,Gs:[MH8]
 Sub Eax,Fs:[08d*04d]
 Jnz @No_Mod_Pattern
 Mov Eax,Gs:[Music_Pos]
 Mov Ecx,Eax
 Shr Eax,06d
 And Cl,063d
 Mov Gs:[Track_Vert],Cl
 Mov Gs:[Pattern],Al
 Call Copy_Music_2_Pattern
@No_Mod_Pattern:

 Call Main_Tracker

 Mov Al,Gs:[Key_Table[64]]     ; F6: Play Pattern
 Test Al,Al
 Jnz @No_Play_Pattern
@NPP:
 Mov Al,Gs:[Key_Table[64]]
 Test Al,Al
 Jz @NPP
 Xor Eax,Eax
 Mov Al,Gs:[Speed]
 Mov Ah,Gs:[Bpm] 
 Test Ax,Ax
 Jz @No_P_Pattern
 Cli
 Mov Dword Ptr Gs:[Music_Counter],1
 Call Stop_Music
 Mov Word Ptr Gs:[Play_Pattern_Pos],00h
 Mov Eax,Gs:[PH8]
 Mov Fs:[08h*04h],Eax
 Sti
@No_P_Pattern:
@No_Play_Pattern:

 Mov Al,Gs:[Key_Table[63]]     ; F5: Play Music
 Test Al,Al
 Jnz @No_Play_Music
@NPM:
 Mov Al,Gs:[Key_Table[63]]
 Test Al,Al
 Jz @NPM
 Xor Eax,Eax
 Mov Al,Gs:[Speed]
 Mov Ah,Gs:[Bpm] 
 Test Ax,Ax
 Jz @No_P_Music
 Cli
 Mov Dword Ptr Gs:[Music_Counter],1
 Call Stop_Music
 Mov Eax,Gs:[MH8]
 Mov Gs:[Music_Pos],00h
 Mov Fs:[08h*04h],Eax
 Sti
@No_P_Music:
@No_Play_Music:

 Mov Al,Gs:[Key_Table[66]]     ; Stop Music
 Test Al,Al
 Jnz @NStop_Music
 Cli
 Mov Eax,Gs:[NH8]
 Mov Fs:[08h*04h],Eax
 Sti
 Call Stop_Music
@NStop_Music:

 Mov Al,Gs:[Key_Table[65]]
 Test Al,Al
 Jnz @No_Call_Ins
@Call_Ins:
 Mov Al,Gs:[Key_Table[65]]
 Test Al,Al
 Jz @Call_Ins
 
 Call Menu_Ins 
@Call_Ins2:
 Mov Al,Gs:[Key_Table[62]]
 Test Al,Al
 Jz @Call_Ins2 
@No_Call_Ins:

 Mov Al,Gs:[Key_Table[54]]
 Mov Bl,Gs:[Key_Table[42]]
 And Al,Bl
 And Al,Bl
 Jnz @No_S2

 Mov Al,Gs:[Key_Table[59]]     ; New Music
 Test Al,Al
 Jnz @No_Shift_F1
 Push Es
 Xor Eax,Eax
 Mov Ecx,(0900d*1024d)/04d
 Mov Edi,Gs:[Xms_01.Xms_Ptr]
 Mov Es,Ax
 Dec Eax
 Rep Stos Dword Ptr Es:[Edi]
 Pop Es

 Mov Byte Ptr Gs:[Pattern],00h
 Mov Di,Offset Pattern_Table
 Xor Eax,Eax
 Mov Cx,0256/04d
 Push Gs
 Pop Es
 Rep Stosd
 Call Copy_Music_2_Pattern 
@No_Shift_F1:

 Mov Al,Gs:[Key_Table[62]]      ; Quit
 Test Al,Al
 Jz @The_End

 Mov Al,Gs:[Key_Table[60]]      ; Load_File
 Test Al,Al
 Jnz @No_Load_File
@NLF:
 Mov Al,Gs:[Key_Table[60]]      
 Test Al,Al
 Jz @NLF
 Mov Gs:[Ls_Choice],00h
 Call Edit_File_Name
 Test Bh,Bh
 Jnz @No_Use_Load
 Call Load_File
@No_Use_Load:
@No_Load_File:

 Mov Al,Gs:[Key_Table[61]]      ; Save_File
 Test Al,Al
 Jnz @No_Save_File
@NSF:
 Mov Al,Gs:[Key_Table[61]]      
 Test Al,Al
 Jz @NSF
 Mov Gs:[Ls_Choice],01h
 Call Edit_File_Name
 Test Bh,Bh
 Jnz @No_Use_Save
 Call Save_File
@No_Use_Save:
@No_Save_File:

@No_S2:

 Mov Al,Gs:[Key_Table[1]]
 Test Al,Al
 Jnz @Loop_Main
@The_End:
 Call Remove_New_Handler
 Call Free_Mem_Xms
 Call Reset

 Mov Ax,03h
 Int 10h
@Back_Of_Error:
 Mov Ax,04C00h
 Int 021h
Start EndP

Even
Save_File Proc Near
 Call Copy_Pattern_2_Music
 Mov Cl,08d
 Mov Bx,Offset I_Name_Temp
 Mov Al,Gs:[Bx]
 Test Al,Al
 Jnz @Loop_Seek_SpaceS
 Ret
@Loop_Seek_SpaceS:
 Mov Al,Gs:[Bx]
 Test Al,Al
 Jz @No_CSSS
 Inc Bx
 Dec Cl
 Jnz @Loop_Seek_SpaceS
@No_CSSS:
 Mov Byte Ptr Gs:[Bx],'.'
 Mov Dword Ptr Gs:[Bx+01d],'TMF'

 Mov Ax,03C00h
 Xor Cx,Cx
 Push Gs
 Pop Ds
 Mov Dx,Offset I_Name_Temp
 Int 021h

 Mov Ax,03D01h 
 Mov Dx,Offset I_Name_Temp
 Int 021h
 Mov Bp,Ax

 Mov Ax,04000h
 Mov Bx,Bp
 Mov Cx,08d            ; 'JSR_FMT~'
 Mov Dx,Offset File_ID
 Int 021h

 Mov Ax,04000h
 Mov Bx,Bp
 Mov Cx,02d            ; Speed,Bpm
 Mov Dx,Offset Speed
 Int 021h

 Mov Ax,04000h
 Mov Bx,Bp
 Mov Cx,(0256d*(024d+06d+06d)) 
 Mov Dx,Offset Instruments_Table
 Int 021h

 Mov Ax,04000h
 Mov Bx,Bp
 Mov Cx,0256d 
 Mov Dx,Offset Pattern_Table
 Int 021h

 Pushad
 Call Get_Counter
 Popad

 Mov Ax,04000h
 Mov Bx,Bp
 Mov Cx,01d 
 Mov Dx,Offset Nbr_Pattern
 Int 021h

 Mov Cl,0255d
 Mov Di,Offset Pattern_Counter
 Mov Al,Gs:[Pattern]
 Mov Ah,Gs:[Pattern_Table]
 Push Ax
Even
@Loop_Write_Pattern:
 Push Cx
 Push Di

 Xor Ch,Ch
 Xor Cl,0FFh
 Add Di,Cx
 Mov Al,Gs:[Di]
 Test Al,Al
 Jz @No_Write
 Mov Gs:[Pattern_Table],Cl
 Mov Gs:[Pattern],00h
 Push Bx
 Pushad
 Call Copy_Music_2_Pattern
 Popad
 Mov Ax,04000h
 Mov Bx,Bp
 Mov Cx,01d 
 Mov Dx,Offset Pattern_Table
 Int 021h

 Mov Ax,04000h
 Mov Bx,Bp
 Mov Cx,(018d*03d*064d)
 Mov Dx,Offset M_Pat
 Int 021h
 Pop Bx
@No_Write:
 Pop Di
 Pop Cx
 Dec Cl
 Jnz @Loop_Write_Pattern
 Pop Ax
 Mov Gs:[Pattern_Table],Ah
 Mov Gs:[Pattern],Al

 Mov Ax,03E00h
 Mov Bx,Bp
 Int 021h
 Call Copy_Music_2_Pattern
Ret
EndP

Load_File Proc Near
 Call Copy_Pattern_2_Music
 Push Es
 Xor Eax,Eax
 Mov Ecx,(0900d*1024d)/04d
 Mov Edi,Gs:[Xms_01.Xms_Ptr]
 Mov Es,Ax
 Dec Eax
 Rep Stos Dword Ptr Es:[Edi]
 Pop Es

 Mov Cl,08d
 Mov Bx,Offset I_Name_Temp
 Mov Al,Gs:[Bx]
 Test Al,Al
 Jnz @Loop_Seek_SpaceL
 Ret
@Loop_Seek_SpaceL:
 Mov Al,Gs:[Bx]
 Test Al,Al
 Jz @No_CSSL
 Inc Bx
 Dec Cl
 Jnz @Loop_Seek_SpaceL
@No_CSSL:
 Mov Byte Ptr Gs:[Bx],'.'
 Mov Dword Ptr Gs:[Bx+01d],'TMF'

 Mov Ax,03D00h
 Mov Dx,Offset I_Name_Temp
 Int 021h
 Mov Bp,Ax
 Jc @File_Not_Found

 Mov Ax,03F00h
 Mov Bx,Bp
 Mov Cx,08h
 Mov Dx,Offset Check_Id
 Int 021h

 Mov Ax,03F00h
 Mov Bx,Bp
 Mov Cx,02h
 Mov Dx,Offset Speed
 Int 021h

 Mov Ax,03F00h
 Mov Bx,Bp
 Mov Cx,09216d
 Mov Dx,Offset Instruments_Table
 Int 021h

 Mov Ax,03F00h
 Mov Bx,Bp
 Mov Cx,0256d
 Mov Dx,Offset Pattern_Table
 Int 021h

 Mov Ax,03F00h
 Mov Bx,Bp
 Mov Cx,01d
 Mov Dx,Offset Nbr_Pattern
 Int 021h

 Mov Cl,Gs:[Nbr_Pattern]
 Push Bp
@Loop_Loading:
 Push Cx

 Mov Ax,03F00h
 Mov Bx,Bp
 Mov Cx,01d
 Mov Dx,Offset Nbr_Pattern
 Int 021h

 Mov Ax,03F00h
 Mov Bx,Bp
 Mov Cx,(018d*03d*064d)
 Mov Dx,Offset M_Pat
 Int 021h

 Push Es
 Push Gs
 Xor Esi,Esi
 Pop Ds
 Mov Es,Si
 Mov Si,Offset M_Pat
 Xor Ecx,Ecx
 Mov Cl,Gs:[Nbr_Pattern]
 Mov Edi,Gs:[Xms_01.Xms_Ptr]
 Imul Ecx,((018d*03d)*064d)    ; Longueur d'un Pattern
 Add Edi,Ecx

 Mov Ecx,(018d*03d*064d)/04d
 Rep Movs Dword Ptr Es:[Edi],Ds:[Esi]
 Pop Es

 Pop Cx
 Dec Cl
 Jnz @Loop_Loading
 Pop Bp

 Mov Ax,03E00h
 Mov Bx,Bp
 Int 021h

 Mov Byte Ptr Gs:[Pattern],00h
 Call Copy_Music_2_Pattern

@File_Not_Found:
Ret
EndP

@Error:
 Pop Bp                        ; Depile l'adresse de retour
 Mov Ax,0900h
 Int 021h
 Jmp @Back_Of_Error

Even
@Pattern:
; -=[ Pattern ]=-

 Mov Si,Offset Screen+(76*2)+(3*160)
 Mov Al,0Fh
 And [Si+1],Al
 And [Si+3],Al

 Mov Al,Gs:[Key_Table[80]]
 Test Al,Al
 Jnz @K80_Pat
 Mov Bl,Gs:[Key_Table2[80]]
 Test Bl,Bl
 Jz @K80_Pat
 Mov Word Ptr Gs:[PNibble_Pos],00h
 Xor Bl,Bl
 Mov Gs:[Key_Table2[80]],Bl
 Inc Byte Ptr Gs:[Pattern]
@K80_Pat:

 Mov Al,Gs:[Key_Table[72]]
 Test Al,Al
 Jnz @K72_Pat
 Mov Bl,Gs:[Key_Table2[72]]
 Test Bl,Bl
 Jz @K72_Pat
 Xor Bl,Bl
 Mov Word Ptr Gs:[PNibble_Pos],00h
 Mov Gs:[Key_Table2[72]],Bl
 Dec Byte Ptr Gs:[Pattern]
@K72_Pat:

 Mov Al,Gs:[Key_Table[71]]
 Test Al,Al
 Jnz @No71_Pat
 Mov Word Ptr Gs:[PNibble_Pos],00h
 Mov Gs:[Pattern],00h
@No71_Pat:
 Mov Al,Gs:[Key_Table[79]]
 Test Al,Al
 Jnz @No79_Pat
 Mov Word Ptr Gs:[PNibble_Pos],00h
 Mov Gs:[Pattern],0FFh
@No79_Pat:

 Mov Cl,016d
 Mov Bx,Offset Key_Hexa_Press
 Mov Di,Offset Pattern_Table
 Mov Al,Gs:[Pattern]
 Xor Ah,Ah
 Add Di,Ax
@Pat_Loop_Key_Press:
 Push Bp
 Mov Bp,Offset Key_Table
 Mov Al,Gs:[Bx]
 Add Bp,Ax
 Mov Al,Gs:[Bp]
 Test Al,Al
 Jnz @Pat_No_Kp
 Mov Al,Gs:[Bp+0128d]
 Test Al,Al
 Jz @Pat_No_Kp
 Xor Al,Al
 Mov Gs:[Bp+0128d],Al

 Push Cx
 Mov Ch,Cl
 Dec Ch
 Xor Ch,0Fh

 Mov Al,Gs:[PNib_Val]
 Mov Gs:[PNib_Val],Ch
 Mov Cl,PNibble_Pos
 Xor Cl,04h
 Shl Ch,Cl
 Xor Cl,04h
 Shl Al,Cl
 Or Ch,Al

 Mov Gs:[Di],Ch
 Test Cl,Cl
 Jz @Pat_Nqkzx
 Mov Byte Ptr Gs:[PNib_Val],00h
@Pat_Nqkzx:
 Xor Byte Ptr Gs:[PNibble_Pos],04h
 Pop Cx
@Pat_No_Kp:
 Pop Bp
 Inc Bx
 Dec Cl
 Jnz @Pat_Loop_Key_Press

 Call Copy_Music_2_Pattern

Jmp @Back_Pattern

Code Ends
End Start

